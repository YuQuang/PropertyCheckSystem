{% extends 'new_Template.html' %}

{% block title %}
<title>StockTaking</title>
{% endblock %}

{% block style %}
<style>
    [v-cloak] {
        display: none;
    }
</style>
{% endblock %}


{% block content %}
<div id="stockTaking">
    <!-- Alert視窗 -->
    <div v-cloak :class="{'fixed flex justify-center z-30 w-full top-2 transition-opacity duration-500':true, 'opacity-0': !isAlertShow, 'opacity-100': isAlertShow, 'hidden': isAlertHide}">
        <div :class="'text-white px-6 py-4 border-0 rounded relative md:w-auto w-10/12 max-w-lg ' + alertColor">
            {% verbatim %}
            <span class="text-xl inline-block mr-3 align-middle w-6 animate-bounce">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	                 viewBox="0 0 511.999 511.999" style="enable-background:new 0 0 511.999 511.999;" xml:space="preserve">
                    <path style="fill:#F2B844;" d="M403.065,81.145c-5.657,0-11.398-1.187-16.866-3.699c-9.846-4.523-17.342-12.608-21.107-22.767
                        c-3.764-10.159-3.346-21.177,1.175-31.023c4.52-9.845,12.606-17.342,22.766-21.107c10.159-3.765,21.176-3.348,31.023,1.174
                        c20.325,9.334,29.268,33.464,19.933,53.79l0,0C433.165,72.37,418.435,81.145,403.065,81.145z M403.138,18.106
                        c-2.635,0-5.274,0.469-7.819,1.411c-5.627,2.086-10.105,6.237-12.609,11.69c-2.504,5.454-2.736,11.557-0.65,17.184
                        S388.297,58.495,393.75,61c11.256,5.171,24.624,0.217,29.794-11.041l0,0c5.169-11.259,0.217-24.624-11.041-29.793
                        C409.515,18.796,406.331,18.106,403.138,18.106z M431.767,53.737h0.012H431.767z"/>
                    <path style="fill:#FCC447;" d="M284.133,456.309c-3.517,7.657-8.342,14.319-14.08,19.817c-18.71,17.91-47.17,23.604-72.143,12.135
                        c-24.973-11.469-39.202-36.766-37.808-62.628c0.432-7.936,2.339-15.936,5.856-23.595L284.133,456.309z"/>
                    <path style="fill:#F2B844;" d="M284.133,456.309c-3.517,7.657-8.342,14.319-14.08,19.817l-109.951-50.494
                        c0.432-7.936,2.339-15.936,5.856-23.595L284.133,456.309z"/>
                    <path style="fill:#F2B844;" d="M198.517,416.99l-32.558-14.952c-14.986,32.63-0.679,71.237,31.952,86.223
                        c5.648,2.594,11.478,4.291,17.331,5.186C193.777,475.027,186.126,443.972,198.517,416.99z"/>
                    <path style="fill:#FCC447;" d="M389.974,69.224c-78.145-35.888-169.326-4.377-218.533,102.771l-20.455,44.542
                        c-15.164,33.021-57.887,58.939-96.618,76.548c-25.741,11.703-25.906,48.172-0.21,59.973l169.682,77.925l169.682,77.924
                        c25.696,11.801,53.25-12.092,45.353-39.241c-11.883-40.852-20.065-90.148-4.899-123.17l20.455-44.542
                        C503.637,194.807,468.119,105.111,389.974,69.224z"/>
                    <path style="fill:#F2B844;" d="M108.632,318.006c38.731-17.608,81.454-43.528,96.618-76.548l20.455-44.542
                        c43.362-94.423,119.32-130.095,190.229-112.68c-8.008-5.719-16.679-10.749-25.96-15.011
                        c-78.145-35.889-169.326-4.378-218.532,102.77l-20.455,44.542c-15.164,33.02-57.887,58.939-96.618,76.548
                        c-25.741,11.703-25.906,48.172-0.21,59.973c0,0,24.171,11.1,54.264,24.92C82.726,366.178,82.892,329.708,108.632,318.006z"/>
                </svg>
            </span>
            <div class="inline-block align-middle mr-8" v-html="alertMsg">
            </div>
            <button @click="closeAlert()" class="absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none">
            <span>×</span>
            </button>
            {% endverbatim %}
        </div>
    </div>
    <!-- 等待 視窗 -->
    <div v-cloak :class="{'fixed flex justify-center z-30 w-full top-2 transition-opacity duration-500':true, 'opacity-0': !isWaitingShow, 'opacity-100': isWaitingShow, 'hidden': isWaitingHide}">
        <div :class="'text-white px-6 py-4 border-0 rounded relative md:w-auto w-10/12 max-w-lg bg-yellow-500'">
            {% verbatim %}
            <span class="text-xl inline-block mr-3 align-middle w-6 animate-spin">
                <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" viewBox="0 0 512 512">
                    <g>
                    <path d="m256 0c-141.382 0-256 114.618-256 256s114.618 256 256 256 256-114.618 256-256-114.618-256-256-256zm0 450.189c-107.077
                    0-194.189-87.112-194.189-194.189s87.112-194.189 194.189-194.189 194.189 87.112 194.189 194.189-87.112 194.189-194.189 194.189z"
                    fill="#71abdf"/><g fill="#4a9bd9">
                    <path d="m240.547 62.426c-5.099-.403-10.252-.615-15.453-.615-107.076 0-194.189 87.112-194.189 194.189s87.112 194.189 194.189 194.189c5.201 
                    0 10.354-.212 15.453-.615-99.879-7.901-178.736-91.698-178.736-193.574s78.857-185.673 178.736-193.574z"/>
                    <path d="m256 0c-5.19 0-10.339.173-15.453.478 134.185 7.992 240.548 119.33 240.548 255.522s-106.363 247.53-240.548 255.522c5.114.305 
                    10.263.478 15.453.478 141.382 0 256-114.618 256-256s-114.618-256-256-256z"/></g>
                    <path d="m256 0v61.811c107.077 0 194.189 87.112 194.189 194.189h61.811c0-141.382-114.618-256-256-256z" fill="#a8c9eb"/>
                    <path d="m256 0v1.863c126.807 15.262 225.095 123.217 225.095 254.137h30.905c0-141.382-114.618-256-256-256z" fill="#8dbbe5"/>
                    </g>
                </svg>
            </span>
            <div class="inline-block align-middle mr-8">
                等待中
            </div>
            <button @click="" class="absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none">
            <span>×</span>
            </button>
            {% endverbatim %}
        </div>
    </div>
    <!-- 顯示資料的表單 -->
    <div class='overflow-auto w-full py-10'>
        <!-- 顯示盤點資料 -->
        <table v-cloak class='mx-auto md:max-w-4xl w-full whitespace-nowrap rounded-lg bg-white divide-y divide-gray-300 overflow-hidden'>
            <thead class="bg-gray-50">
                <tr class="text-gray-600 text-left">
                    <th class="font-semibold text-sm uppercase px-4 py-4">
                        Name/Serial
                    </th>
                    <th class="font-semibold text-sm uppercase px-2 py-4">
                        real/label
                    </th>
                    <th class="font-semibold text-sm uppercase px-4 py-4 text-center">
                        status
                    </th>
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-200">

                <!-- 載入中的骨架顯示 -->
                <tr :class="{'hidden': isloading}" v-for="n in 10">
                    <td class="px-4 py-2">
                        <div class="items-center relative sm:w-auto w-20">
                            <div class="p-1"><div class="bg-blue-400 rounded-full animate-pulse leading-relaxed w-full inline-block h-5">&nbsp;</div></div>
                            <div class="p-1"><div class="bg-gray-500 rounded-full animate-pulse leading-relaxed w-2/3 inline-block h-5">&nbsp;</div></div>
                        </div>
                    </td>
                    <td class="px-4 py-2">
                        <div class="items-center relative sm:w-auto w-20">
                            <div class="p-1"><div class="bg-gray-400 rounded-full animate-pulse leading-relaxed w-1/3 inline-block h-5">&nbsp;</div></div>
                            <div class="p-1"><div class="bg-gray-300 rounded-full w-full animate-pulse leading-relaxed inline-block h-5">&nbsp;</div></div>
                        </div>
                    </td>
                    <td class="px-4 py-2 text-center">
                        <div class="p-1"><div class="bg-green-500 rounded-full animate-pulse leading-relaxed w-full inline-block h-5">&nbsp;</div></div>
                    </td>
                </tr>
                
                {% verbatim %}
                <!-- 資料顯示 -->
                <tr v-for="prop in propertyList">
                    <td class="px-4 py-2">
                        <div class="items-center relative sm:w-auto w-24" @click="showDetail(prop)">
                            <div class="font-bold text-lg max-w-full overflow-ellipsis cursor-pointer" style="overflow:hidden;white-space: nowrap;">
                                {{ prop.product_name }}
                            </div>
                            <div class="text-gray-500 text-sm font-semibold cursor-pointer">
                                {{ prop.product_number }}
                            </div>
                            <div class="text-gray-500 text-sm font-semibold cursor-pointer">
                                {{ prop.number }}
                            </div>
                        </div>
                    </td>
                    <td class="px-4 py-2">
                        <div class="items-center relative sm:w-auto w-20">
                            <div class="text-lg font-semibold max-w-full overflow-ellipsis" style="overflow:hidden;white-space: nowrap;">
                                {{ prop.position }}
                            </div>
                            <div class="text-gray-600 text-base font-semibold max-w-full overflow-ellipsis" style="overflow:hidden;white-space: nowrap;">
                                {{ prop.label_position }}
                            </div>
                        </div>
                    </td>
                    <td class="px-4 py-2 text-center">
                        <div class="text-gray-600 font-semibold text-xs px-2 text-center">
                            {{ prop.action_user }}
                        </div>
                        <span v-if="prop.is_check == 'v'" @click="checkProp(prop)" @contextmenu="onLongTouch(prop)" oncontextmenu="return false;"
                              @touchstart="touchStart($event, prop)" @touchend="touchEnd()" class="text-green-800 bg-green-200 font-semibold px-2 rounded-full select-none cursor-pointer">
                            Check
                        </span>
                        <span v-if="prop.is_check == 'x'" @click="checkProp(prop)" @contextmenu="onLongTouch(prop)" oncontextmenu="return false;"
                              @touchstart="touchStart($event, prop)" @touchend="touchEnd()" class="text-red-800 bg-red-200 font-semibold px-2 rounded-full select-none cursor-pointer">
                            NotCheck
                        </span>
                        <span v-if="prop.is_check == 'b'" @click="checkProp(prop)" @contextmenu="onLongTouch(prop)" oncontextmenu="return false;"
                              @touchstart="touchStart($event, prop)" @touchend="touchEnd()" class="text-yellow-800 bg-yellow-200 font-semibold px-2 rounded-full select-none cursor-pointer">
                              Broken
                        </span>
                        <span v-if="prop.is_check == 'm'" @click="checkProp(prop)" @contextmenu="onLongTouch(prop)" oncontextmenu="return false;"
                              @touchstart="touchStart($event, prop)" @touchend="touchEnd()" class="text-blue-800 bg-blue-200 font-semibold px-2 rounded-full select-none cursor-pointer">
                              Missing
                        </span>
                        <span v-if="prop.is_check == 'o'" @click="checkProp(prop)" @contextmenu="onLongTouch(prop)" oncontextmenu="return false;"
                              @touchstart="touchStart($event, prop)" @touchend="touchEnd()" class="text-purple-800 bg-indigo-200 font-semibold px-2 rounded-full select-none cursor-pointer">
                              Obsolete
                        </span>
                    </td>
                </tr>
                {% endverbatim %}

            </tbody>
        </table>
    </div>
    <!-- 右下角按鈕 -->
    <div v-cloak class="fixed lg:right-10 lg:bottom-10 right-5 bottom-5 justify-items-end">
        <!-- 功能清單 -->
        <div :class="{'flex justify-end gap-3 w-full transition-all duration-1000': true}">
            <!-- 送出按鈕 -->
            <div @click="sendPropertyCheck()" :class="{'right-14 w-14 h-14 p-4 bg-gray-100 shadow-xl rounded-full cursor-pointer':true, 'hidden':!isFunctionList}">
                <svg enable-background="new 0 0 465.882 465.882" viewBox="0 0 465.882 465.882" xmlns="http://www.w3.org/2000/svg">
                    <path d="m465.882 0-465.882 262.059 148.887 55.143 229.643-215.29-174.674 235.65.142.053-.174-.053v128.321l83.495-97.41 105.77 39.175z"/>
                </svg>
            </div>
            <!-- 設定按鈕 -->
            <div @click="showSetting(false)" :class="{'w-14 h-14 p-4 bg-gray-100 shadow-xl rounded-full cursor-pointer':true, 'hidden':!isFunctionList}">
                <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	                 viewBox="0 0 426.667 426.667" style="enable-background:new 0 0 426.667 426.667;" xml:space="preserve">
                    <path d="M416.8,269.44l-45.013-35.307c0.853-6.827,1.493-13.76,1.493-20.8s-0.64-13.973-1.493-20.8l45.12-35.307
                    c4.053-3.2,5.227-8.96,2.56-13.653L376.8,69.653c-2.667-4.587-8.213-6.507-13.013-4.587l-53.12,21.44
                    c-10.987-8.427-23.04-15.573-36.053-21.013l-8-56.533C265.653,3.947,261.28,0,255.947,0h-85.333c-5.333,0-9.707,3.947-10.56,8.96
                    l-8,56.533c-13.013,5.44-25.067,12.48-36.053,21.013l-53.12-21.44c-4.8-1.813-10.347,0-13.013,4.587L7.2,143.573
                    c-2.667,4.587-1.493,10.347,2.56,13.653l45.013,35.307c-0.853,6.827-1.493,13.76-1.493,20.8s0.64,13.973,1.493,20.8L9.76,269.44
                    c-4.053,3.2-5.227,8.96-2.56,13.653l42.667,73.92c2.667,4.587,8.213,6.507,13.013,4.587L116,340.16
                    c10.987,8.427,23.04,15.573,36.053,21.013l8,56.533c0.853,5.013,5.227,8.96,10.56,8.96h85.333c5.333,0,9.707-3.947,10.56-8.96
                    l8-56.533c13.013-5.44,25.067-12.48,36.053-21.013l53.12,21.44c4.8,1.813,10.347,0,13.013-4.587l42.667-73.92
                    C422.027,278.507,420.853,272.747,416.8,269.44z M213.28,288c-41.28,0-74.667-33.387-74.667-74.667S172,138.667,213.28,138.667
                    s74.667,33.387,74.667,74.667S254.56,288,213.28,288z"/>
                </svg>
            </div>
            <!-- 回到最頂部按鈕 -->
            <a href="#navbar">
                <div :class="{'w-14 h-14 p-4 bg-gray-100 shadow-xl rounded-full cursor-pointer':true, 'hidden':!isFunctionList}">
                    
                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                        <path d="M256,0C114.833,0,0,114.833,0,256s114.833,256,256,256s256-114.853,256-256S397.167,0,256,0z M256,472.341
                            c-119.275,0-216.341-97.046-216.341-216.341S136.725,39.659,256,39.659c119.295,0,216.341,97.046,216.341,216.341
                            S375.275,472.341,256,472.341z"/>
                        <path d="M369.227,283.365l-99.148-99.148c-7.734-7.694-20.226-7.694-27.96,0l-99.148,99.148c-6.365,7.416-6.365,18.382,0,25.798
                            c7.119,8.309,19.651,9.28,27.96,2.161L256,226.256l85.267,85.069c7.734,7.694,20.226,7.694,27.96,0
                            C376.921,303.591,376.921,291.098,369.227,283.365z"/>
                    </svg>
                </div>
            </a>
            <!-- 拍照按紐 -->
            <div @click="showCamera(true)" :class="{'w-14 h-14 p-4 bg-gray-100 shadow-xl rounded-full cursor-pointer':true, 'hidden':!isFunctionList}">
                <svg enable-background="new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                    <path d="m414.996 55.632-133.445 96.954 223.595 162.453c4.474-18.923 6.854-38.646 6.854-58.916 0-81.129-37.942-153.555-97.004-200.491z"/>
                    <path d="m388.984 37.449c-38.782-23.673-84.318-37.327-132.984-37.327-52.302 0-100.982 15.778-141.555 42.807l50.996 156.936z"/>
                    <path d="m89.141 62.132c-54.546 46.983-89.141 116.52-89.141 193.99 0 23.805 3.278 46.856 9.385 68.739h165.129z"/>
                    <path d="m19.817 354.862c37.401 89.128 123.835 152.773 225.365 157.016l51.017-157.016z"/>
                    <path d="m276.925 511.262c100.648-8.181 185.011-74.829 218.996-165.845l-133.577-97.05z"/>
                </svg>
            </div>
            <!-- 功能展開按鈕 -->
            <div @click="openFunction()" :class="{'w-14 h-14 p-4 bg-gray-100 shadow-xl rounded-full cursor-pointer':true}">
                <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	                 viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                    <path d="M156,256c0,11.046,8.954,20,20,20h60v60c0,11.046,8.954,20,20,20s20-8.954,20-20v-60h60c11.046,0,20-8.954,20-20
                        c0-11.046-8.954-20-20-20h-60v-60c0-11.046-8.954-20-20-20s-20,8.954-20,20v60h-60C164.954,236,156,244.954,156,256z"/>
                    <path d="M160.406,61.8l25.869-10.716c10.204-4.228,15.051-15.927,10.823-26.132c-4.228-10.205-15.926-15.054-26.132-10.823
                        l-25.869,10.716c-10.204,4.228-15.051,15.927-10.823,26.132C138.488,61.148,150.168,66.038,160.406,61.8z"/>
                    <path d="M256,0c-11.046,0-20,8.954-20,20s8.954,20,20,20c119.378,0,216,96.608,216,216c0,119.378-96.608,216-216,216
                        c-119.378,0-216-96.608-216-216c0-11.046-8.954-20-20-20s-20,8.954-20,20c0,141.483,114.497,256,256,256
                        c141.483,0,256-114.497,256-256C512,114.517,397.503,0,256,0z"/>
                    <path d="M93.366,113.165l19.799-19.799c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L65.081,84.88
                        c-7.811,7.811-7.811,20.475,0,28.285C72.89,120.974,85.555,120.976,93.366,113.165z"/>
                    <path d="M24.952,197.099c10.227,4.236,21.914-0.642,26.132-10.823l10.716-25.87c4.228-10.205-0.619-21.904-10.823-26.132
                        c-10.207-4.227-21.904,0.619-26.132,10.823l-10.716,25.869C9.901,181.172,14.748,192.871,24.952,197.099z"/>
                </svg>
            </div>
        </div>
        <!-- 搜尋按鈕 -->
        <div class="mt-4 flex w-full justify-end">
            <div :class="{'bg-gray-100 shadow-xl rounded-full h-14 flex flex-row gap-3 p-4 cursor-pointer transition-all duration-700':true, 'w-64 p-4':searchIconCss, 'w-14':!searchIconCss}">
                <svg :class="{'w-6':true, 'hidden': searchIconCss}" @click="openSearch()" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                    viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                        <path d="M141.367,116.518c-7.384-7.39-19.364-7.39-26.748,0c-27.416,27.416-40.891,65.608-36.975,104.79
                            c0.977,9.761,9.2,17.037,18.803,17.037c0.631,0,1.267-0.032,1.898-0.095c10.398-1.04,17.983-10.316,16.943-20.707
                            c-2.787-27.845,6.722-54.92,26.079-74.278C148.757,135.882,148.757,123.901,141.367,116.518z"/>
                        <path d="M216.276,0C97.021,0,0,97.021,0,216.276s97.021,216.276,216.276,216.276s216.276-97.021,216.276-216.276
                            S335.53,0,216.276,0z M216.276,394.719c-98.396,0-178.443-80.047-178.443-178.443S117.88,37.833,216.276,37.833
                            c98.39,0,178.443,80.047,178.443,178.443S314.672,394.719,216.276,394.719z"/>
                        <path d="M506.458,479.71L368.999,342.252c-7.39-7.39-19.358-7.39-26.748,0c-7.39,7.384-7.39,19.364,0,26.748L479.71,506.458
                            c3.695,3.695,8.531,5.542,13.374,5.542c4.843,0,9.679-1.847,13.374-5.542C513.847,499.074,513.847,487.094,506.458,479.71z"/>
                </svg>
                <svg :class="{'w-6':true, 'hidden': !searchIconCss}" @click="openSearch()" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        viewBox="0 0 512.001 512.001" style="enable-background:new 0 0 512.001 512.001;" xml:space="preserve">
                            <path d="M284.286,256.002L506.143,34.144c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L256,227.717
                                L34.143,5.859c-7.811-7.811-20.475-7.811-28.285,0c-7.81,7.811-7.811,20.475,0,28.285l221.857,221.857L5.858,477.859
                                c-7.811,7.811-7.811,20.475,0,28.285c3.905,3.905,9.024,5.857,14.143,5.857c5.119,0,10.237-1.952,14.143-5.857L256,284.287
                                l221.857,221.857c3.905,3.905,9.024,5.857,14.143,5.857s10.237-1.952,14.143-5.857c7.811-7.811,7.811-20.475,0-28.285
                                L284.286,256.002z"/>
                </svg>
                <div :class="{'flex-grow items-center pr-5':true, 'hidden':!searchIconCss}">
                    <input v-model="keyword" @keyup="filterProperty()" class="w-full border-black border-b-2 bg-opacity-0 bg-white outline-none">
                </div>
            </div>
        </div>
    </div>
    <!-- 確認視窗 彈跳視窗 -->
    <div v-cloak :class="{'fixed flex justify-center align-middle top-0 w-full p-5 z-20':true, 'hidden': !isConfirmModel}">
        <div @click="confirmModel(false)" class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
                aria-hidden="true"></div>
        <div class="md:w-1/3 w-11/12 rounded-lg shadow-lg bg-gray-100 my-20 z-10">
            <div class="flex justify-between border-b border-gray-300 px-5 py-4">
                <div>
                <i class="fa fa-exclamation-triangle text-orange-500"></i>
                <span class="font-bold text-black text-lg">提醒</span>
                </div>
            </div>
        
            <div class="px-10 py-5 text-black">
                確定是否做這件事?
            </div>
        
            <div class="px-5 py-4 flex justify-end">
                <button @click="confirmModel(false)" class="bg-orange-500 mr-1 rounded text-sm py-2 px-3 text-gray-500 hover:text-black transition duration-150">Cancel</button>
                <button @click="confirmModel(true)" class="text-sm py-2 px-3 text-gray-500 hover:text-black transition duration-150">OK</button>
            </div>
        </div>
    </div>
    <!-- 盤點次數輸入視窗 彈跳視窗 -->
    <div v-cloak :class="{'fixed flex justify-center align-middle top-0 w-full p-5 z-20':true, 'hidden': !isCheckNumberModel}">
        <div @click="showCheckNumberModel(false)" class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
                aria-hidden="true"></div>
        <div class="md:w-1/3 w-11/12 rounded-lg shadow-lg bg-gray-100 my-20 z-10">
            <div class="flex justify-between border-b border-gray-300 px-5 py-4">
                <div>
                <i class="fa fa-exclamation-triangle text-orange-500"></i>
                <span class="font-bold text-black text-lg">提示</span>
                </div>
            </div>
        
            <div class="px-10 py-5 text-black flex flex-col gap-3">
                <div class="w-full">
                    保存為第<input type="number" v-model="checkNumber">次盤點
                </div>
                <div class="w-full">
                    <textarea placeholder="備註" class="w-full" v-model="checkTips"></textarea>
                </div>
            </div>
        
            <div class="px-5 py-4 flex justify-end">
                <button @click="showCheckNumberModel(false)" class="bg-orange-500 mr-1 rounded text-sm py-2 px-3 text-gray-500 hover:text-black transition duration-150">Cancel</button>
                <button @click="saveCheckProp();" class="text-sm py-2 px-3 text-gray-500 hover:text-black transition duration-150">OK</button>
            </div>
        </div>
    </div>
    <!-- 統計 彈跳視窗 -->
    <div v-cloak :class="{'fixed z-20 inset-0 overflow-y-auto select-none':true, 'hidden': !isStaticModel}" aria-labelledby="modal-title" role="dialog"
        aria-modal="true">
        <div class="flex flex-wrap justify-center content-center text-center sm:p-0 h-full p-4">
            <!-- 背景黑色 -->
            <div @click="showStatic(false)" class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
                aria-hidden="true"></div>

            <!-- 對話框實體 sm:align-middle sm:max-w-lg  -->
            <div class="inline-block align-bottom bg-gray-100 rounded-lg shadow-xl transform transition-all
                        duration-75 sm:max-w-4xl sm:w-10/12 w-full max-h-full p-1">
                <div class="flex-wrap flex w-full max-h-full overflow-y-auto p-4">
                    <div class="flex-row flex justify-between w-full">
                        <div class="text-2xl font-bold">Statistic</div>
                        <div @click="showStatic(false)" class="font-bold">X</div>
                    </div>
                    {% verbatim %}
                    <!-- 盤點的統計 -->
                    <div class="p-2 lg:w-1/3 md:w-1/2 w-full inline-block">
                        <div class="transform hover:scale-105 shadow-xl rounded-lg bg-white p-2">
                            <div class="flex justify-between">
                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="30px" height="30px"
                                    viewBox="0 0 507.2 507.2" style="enable-background:new 0 0 507.2 507.2;" xml:space="preserve">
                                    <circle style="fill:#32BA7C;" cx="253.6" cy="253.6" r="253.6"/>
                                    <path style="fill:#0AA06E;" d="M188.8,368l130.4,130.4c108-28.8,188-127.2,188-244.8c0-2.4,0-4.8,0-7.2L404.8,152L188.8,368z"/>
                                    <path style="fill:#FFFFFF;" d="M260,310.4c11.2,11.2,11.2,30.4,0,41.6l-23.2,23.2c-11.2,11.2-30.4,11.2-41.6,0L93.6,272.8
                                        c-11.2-11.2-11.2-30.4,0-41.6l23.2-23.2c11.2-11.2,30.4-11.2,41.6,0L260,310.4z"/>
                                    <path style="fill:#FFFFFF;" d="M348.8,133.6c11.2-11.2,30.4-11.2,41.6,0l23.2,23.2c11.2,11.2,11.2,30.4,0,41.6l-176,175.2
                                        c-11.2,11.2-30.4,11.2-41.6,0l-23.2-23.2c-11.2-11.2-11.2-30.4,0-41.6L348.8,133.6z"/>
                                </svg>
                            </div>
                            <div class="w-full flex-1">
                                <div class="text-3xl font-bold leading-8">{{ checkedProp }}</div>
                                <div class="mt-1 text-base text-gray-600">Checked</div>
                            </div>
                        </div>
                    </div>
                    <!-- 尚未盤點的統計 -->
                    <div class="p-2 lg:w-1/3 md:w-1/2 w-full inline-block">
                        <div class="transform hover:scale-105 shadow-xl rounded-lg bg-white p-2">
                            <div class="flex justify-between">
                                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                    width="30px" height="30px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                                    <circle style="fill:#E21B1B;" cx="256" cy="256" r="256"/>
                                    <path style="fill:#C40606;" d="M510.28,285.304L367.912,142.936L150.248,368.608l140.928,140.928
                                    C406.352,493.696,497.056,401.288,510.28,285.304z"/>
                                    <path style="fill:#FFFFFF;" d="M354.376,371.536c-5.12,0-10.232-1.952-14.144-5.856L146.408,171.848
                                        c-7.816-7.816-7.816-20.472,0-28.28s20.472-7.816,28.28,0L368.52,337.4c7.816,7.816,7.816,20.472,0,28.28
                                        C364.608,369.584,359.496,371.536,354.376,371.536z"/>
                                    <path style="fill:#FFFFFF;" d="M160.544,371.536c-5.12,0-10.232-1.952-14.144-5.856c-7.816-7.816-7.816-20.472,0-28.28
                                        l193.832-193.832c7.816-7.816,20.472-7.816,28.28,0s7.816,20.472,0,28.28L174.688,365.68
                                        C170.784,369.584,165.664,371.536,160.544,371.536z"/>
                                </svg>
                            </div>
                            <div class="w-full flex-1">
                                <div class="text-3xl font-bold leading-8">{{ notCheckedProp }}</div>
                                <div class="mt-1 text-base text-gray-600">Not Checked</div>
                            </div>
                        </div>
                    </div>
                    <!-- 報廢的統計 -->
                    <div class="p-2 lg:w-1/3 md:w-1/2 w-full inline-block">
                        <div class="transform hover:scale-105 shadow-xl rounded-lg bg-white p-2">
                            <div class="flex justify-between">
                                <svg height="30px" viewBox="-64 0 512 512" width="30px" xmlns="http://www.w3.org/2000/svg">
                                    <path d="m256 80h-32v-48h-64v48h-32v-80h128zm0 0" fill="#62808c"/>
                                    <path d="m304 512h-224c-26.507812 0-48-21.492188-48-48v-336h320v336c0 26.507812-21.492188 48-48 48zm0 0" fill="#e76e54"/>
                                    <path d="m384 160h-384v-64c0-17.671875 14.328125-32 32-32h320c17.671875 0 32 14.328125 32 32zm0 0" fill="#77959e"/>
                                    <path d="m260 260c-6.246094-6.246094-16.375-6.246094-22.625 0l-41.375 41.375-41.375-41.375c-6.25-6.246094-16.378906-6.246094-22.625 0s-6.246094 16.375 0 22.625l41.375
                                        41.375-41.375 41.375c-6.246094 6.25-6.246094 16.378906 0 22.625s16.375 6.246094 22.625 0l41.375-41.375 41.375 41.375c6.25 6.246094 16.378906 6.246094
                                        22.625 0s6.246094-16.375 0-22.625l-41.375-41.375 41.375-41.375c6.246094-6.25 6.246094-16.378906 0-22.625zm0 0" fill="#fff"/>
                                </svg>
                            </div>
                            <div class="w-full flex-1">
                                <div class="text-3xl font-bold leading-8">{{ obsoleteProp }}</div>
                                <div class="mt-1 text-base text-gray-600">Obsolete</div>
                            </div>
                        </div>
                    </div>
                    <!-- 遺失的統計 -->
                    <div class="p-2 lg:w-1/3 md:w-1/2 w-full inline-block">
                        <div class="transform hover:scale-105 shadow-xl rounded-lg bg-white p-2">
                            <div class="flex justify-between">
                                <svg enable-background="new 0 0 128 128" height="30px" viewBox="0 0 128 128" width="30px" xmlns="http://www.w3.org/2000/svg"><g><g>
                                    <path d="m113.24 103.803c-.625-.625-1.498-.906-2.355-.863v-73.723c.055.003.108.016.163.016.828 0 1.606-.322 2.191-.908l2.134-2.134c1.209-1.208 1.209-3.175 0-4.383l-4.489-4.49v-3.88c0-1.709-1.39-3.099-3.099-3.099h-3.88l-2.819-2.819c-1.21-1.209-3.176-1.207-4.383.001l-2.133 2.133c-.205.205-.364.439-.502.685h-56.009c-.138-.245-.297-.48-.502-.684l-2.134-2.135c-1.209-1.209-3.175-1.207-4.383.001l-2.819 2.819h-3.88c-1.709 0-3.099 1.39-3.099 3.099v3.88l-4.489 4.489c-1.209 1.208-1.209 3.175 0 4.383l2.134 2.134c.585.585 1.364.908 2.191.908.055 0 .108-.013.163-.016v73.723c-.857-.043-1.73.238-2.355.863l-2.134 2.134c-1.209 1.208-1.209 3.175 0 4.383l4.489 4.49v3.88c0 1.709 1.39 3.099 3.099 3.099h3.88l2.819 2.819c.604.604 1.398.906 2.191.906.794 0 1.588-.302 2.192-.906l2.134-2.134c.205-.205.364-.439.502-.685h56.009c.138.245.297.48.502.684l2.134 2.135c.604.604 1.398.906 2.191.906.794 0 1.588-.302 2.192-.906l2.819-2.818h3.88c1.709 0 3.099-1.39 3.099-3.099v-3.88l4.489-4.489c1.209-1.208 1.209-3.175 0-4.383z" fill="#e6e7e8"/></g><g><path d="m103.719 7.239h-83.577c-1.105 0-2 .895-2 2v105.384c0 1.104.895 2 2 2h83.577c1.105 0 2-.896 2-2v-105.384c0-1.104-.895-2-2-2z" fill="#6dc9f7"/><g>
                                    <path d="m103.653 7.239h-83.445c-1.141 0-2.066.925-2.066 2.066v3.099c0-1.141.925-2.066 2.066-2.066h83.445c1.141 0 2.066.925 2.066 2.066v-3.098c0-1.142-.925-2.067-2.066-2.067z" fill="#fff"/></g>
                                    <path d="m93.794 18.384h-63.727c-.552 0-1 .448-1 1v85.094c0 .552.448 1 1 1h63.727c.552 0 1-.448 1-1v-85.094c0-.552-.448-1-1-1z" fill="#d4fbff"/>
                                    <g fill="#ffd7e5"><g>
                                    <path d="m110.558 18.452-14.381-14.381c-.781-.781-2.047-.781-2.828 0l-2.228 2.228c-.781.781-.781 2.047 0 2.828l14.381 14.381c.781.781 2.047.781 2.828 0l2.228-2.228c.781-.78.781-2.047 0-2.828z"/><path d="m32.741 6.299-2.228-2.228c-.781-.781-2.047-.781-2.828 0l-14.382 14.381c-.781.781-.781 2.047 0 2.828l2.228 2.228c.781.781 2.047.781 2.828 0l14.382-14.38c.781-.781.781-2.048 0-2.829z"/></g><g>
                                    <path d="m32.741 114.734-14.381-14.38c-.781-.781-2.047-.781-2.828 0l-2.228 2.228c-.781.781-.781 2.047 0 2.828l14.381 14.381c.781.781 2.047.781 2.828 0l2.228-2.228c.781-.781.781-2.047 0-2.829z"/><path d="m110.558 102.582-2.228-2.228c-.781-.781-2.047-.781-2.828 0l-14.381 14.381c-.781.781-.781 2.047 0 2.828l2.228 2.228c.781.781 2.047.781 2.828 0l14.381-14.381c.781-.781.781-2.047 0-2.828z"/></g></g>
                                    <path d="m69.354 68.479c4.656-2.239 8.15-6.516 9.329-11.666.223.066.449.109.677.109 1.784 0 3.181-1.841 3.181-4.191 0-2.002-1.015-3.63-2.419-4.07v-13.115c0-2.942-2.048-5.4-4.795-6.041.371-.367.705-.804.939-1.328 1.32-2.958-1.342-5.171-1.937-5.171-.543 0-.353.985-2.34 2.304-1.994 1.324-3.822 1.475-3.822 1.475s-5.506-3.781-11.634-2.749c-4.397.74-7.691 4.065-9.206 5.889-2.115.99-3.584 3.131-3.584 5.621v13.114c-1.403.439-2.419 2.067-2.419 4.07 0 2.35 1.397 4.191 3.181 4.191.228 0 .454-.043.677-.109 1.179 5.15 4.673 9.427 9.329 11.666-10.671 1.452-18.923 10.618-18.923 21.681v7.9c0 .934.757 1.691 1.691 1.691h49.309c.934 0 1.691-.757 1.691-1.691v-7.9c-.003-11.062-8.255-20.228-18.925-21.68z" fill="#0089ef"/><g><g>
                                    <path d="m51.626 41.661c0-1.308.42-2.634 1.26-3.977.841-1.344 2.067-2.455 3.679-3.337 1.611-.881 3.492-1.323 5.641-1.323 1.998 0 3.76.369 5.29 1.106 1.529.737 2.71 1.739 3.544 3.006.834 1.268 1.25 2.645 1.25 4.133 0 1.171-.237 2.198-.712 3.079-.476.881-1.041 1.643-1.695 2.284s-1.828 1.719-3.523 3.234c-.469.427-.844.802-1.127 1.125-.282.324-.493.62-.631.889-.138.268-.244.537-.32.806s-.19.74-.341 1.416c-.261 1.433-1.081 2.148-2.459 2.148-.716 0-1.319-.234-1.808-.702-.489-.469-.733-1.164-.733-2.087 0-1.157.179-2.159.537-3.007s.834-1.591 1.426-2.232 1.391-1.402 2.397-2.284c.881-.772 1.52-1.354 1.912-1.746.392-.393.723-.831.992-1.313.269-.481.402-1.005.402-1.569 0-1.103-.41-2.033-1.229-2.79-.819-.758-1.877-1.137-3.172-1.137-1.515 0-2.632.382-3.347 1.147-.718.765-1.323 1.89-1.819 3.379-.468 1.557-1.357 2.334-2.666 2.334-.772 0-1.423-.271-1.953-.816-.53-.542-.795-1.132-.795-1.766zm10.084 22.648c-.841 0-1.574-.272-2.2-.817-.627-.544-.94-1.305-.94-2.284 0-.868.303-1.598.908-2.19.607-.592 1.35-.888 2.232-.888.868 0 1.598.296 2.191.888.592.592.888 1.322.888 2.19 0 .965-.31 1.723-.93 2.273-.619.553-1.336.828-2.149.828z" fill="#fa759e"/><g fill="#3a2c60">
                                    <path d="m105.719 43.637c-.552 0-1 .448-1 1v9.89c0 .552.448 1 1 1s1-.448 1-1v-9.89c0-.553-.447-1-1-1z"/>
                                    <path d="m109.037 99.646c-.635-.635-1.485-.912-2.317-.858v-39.957c0-.552-.448-1-1-1s-1 .448-1 1v40.89l-14.306 14.306c-.451.451-.724 1.011-.827 1.596h-55.312c-.103-.585-.376-1.145-.827-1.596l-14.306-14.306v-75.58l14.305-14.306c.451-.451.724-1.011.827-1.596h55.312c.103.585.376 1.145.827 1.596l14.306 14.306v16.094c0 .552.448 1 1 1s1-.448 1-1v-15.161c.065.004.13.019.196.019.769 0 1.537-.292 2.122-.877l2.229-2.228c1.169-1.17 1.169-3.073 0-4.243l-4.545-4.545v-3.894c0-1.691-1.375-3.066-3.066-3.066h-3.894l-2.875-2.875c-1.171-1.171-3.074-1.17-4.243 0l-2.228 2.228c-.196.196-.347.417-.477.647h-56.014c-.13-.23-.281-.451-.477-.647l-2.227-2.228c-1.17-1.17-3.073-1.171-4.243 0l-2.875 2.875h-3.894c-1.691 0-3.066 1.375-3.066 3.066v3.894l-4.546 4.546c-1.169 1.17-1.169 3.073 0 4.243l2.228 2.229c.585.584 1.353.876 2.122.876.066 0 .13-.014.196-.019v73.714c-.833-.054-1.683.224-2.317.859l-2.229 2.228c-1.169 1.17-1.169 3.073 0 4.243l4.545 4.546v3.894c0 1.691 1.375 3.066 3.066 3.066h3.894l2.875 2.875c.585.584 1.353.876 2.121.876.769 0 1.537-.292 2.122-.877l2.228-2.228c.196-.196.347-.417.477-.647h56.013c.13.23.281.451.477.647l2.228 2.229c.585.584 1.353.876 2.121.876.769 0 1.537-.292 2.122-.877l2.875-2.875h3.894c1.691 0 3.066-1.375 3.066-3.066v-3.894l4.546-4.546c1.169-1.17 1.169-3.073 0-4.243zm-5.384-91.407c.588 0 1.066.479 1.066 1.066v1.895l-2.961-2.961zm-11.825-1.233 2.228-2.228c.39-.39 1.025-.39 1.415 0l14.38 14.38c.39.39.39 1.024 0 1.415l-2.228 2.228c-.39.39-1.025.39-1.415 0l-14.38-14.38c-.39-.39-.39-1.025 0-1.415zm-72.686 2.3c0-.588.479-1.066 1.066-1.066h1.894l-2.961 2.96v-1.894zm-2.904 13.496-2.228-2.228c-.39-.39-.39-1.024 0-1.415l14.381-14.38c.195-.195.451-.292.708-.292.256 0 .512.098.707.292l2.228 2.228c.39.39.39 1.024 0 1.415l-14.38 14.38c-.39.39-1.025.389-1.416 0zm3.97 92.821c-.588 0-1.066-.479-1.066-1.066v-1.894l2.96 2.96zm11.825 1.233-2.228 2.228c-.39.391-1.025.39-1.415 0l-14.38-14.381c-.39-.39-.39-1.024 0-1.415l2.228-2.228c.195-.195.451-.292.707-.292s.513.097.708.292l14.38 14.381c.39.39.39 1.025 0 1.415zm72.686-2.299c0 .588-.479 1.066-1.066 1.066h-1.894l2.96-2.96zm5.132-9.854-14.381 14.38c-.389.391-1.024.39-1.415 0l-2.228-2.228c-.39-.39-.39-1.024 0-1.415l14.38-14.381c.389-.391 1.024-.39 1.415 0l2.228 2.228c.39.392.39 1.026.001 1.416z"/>
                                    <path d="m34.585 90.159v7.899c0 1.484 1.208 2.691 2.691 2.691h49.309c1.484 0 2.691-1.208 2.691-2.691v-7.899c0-10.476-7.195-19.561-17.127-22.146 3.503-2.399 6.119-5.999 7.281-10.092 2.31-.046 4.109-2.31 4.109-5.19 0-2.103-.947-3.903-2.419-4.723v-12.462c0-2.859-1.653-5.372-4.161-6.531.08-.141.153-.284.218-.43.707-1.585.576-3.26-.37-4.717-.601-.925-1.646-1.862-2.481-1.862-.778 0-1.131.573-1.343.916-.232.376-.55.892-1.55 1.556-1.282.851-2.494 1.16-3.044 1.264-1.342-.833-6.389-3.639-12.025-2.691-4.553.766-7.964 4.058-9.67 6.069-2.41 1.223-3.955 3.72-3.955 6.426v12.461c-1.473.819-2.419 2.619-2.419 4.723 0 2.881 1.799 5.145 4.11 5.19 1.163 4.093 3.778 7.692 7.281 10.092-9.931 2.586-17.126 11.672-17.126 22.147zm20.057-20.69c.438-.06.784-.399.853-.835s-.157-.866-.555-1.057c-4.413-2.122-7.698-6.229-8.787-10.987-.062-.269-.231-.5-.469-.64-.155-.091-.33-.137-.505-.137-.095 0-.189.013-.282.041-.156.046-.285.068-.395.068-1.203 0-2.181-1.432-2.181-3.191 0-1.518.707-2.799 1.718-3.115.417-.131.702-.517.702-.955v-13.115c0-2.009 1.181-3.86 3.008-4.715.133-.063.251-.153.345-.267 1.477-1.777 4.559-4.861 8.604-5.541 5.637-.95 10.851 2.552 10.903 2.588.19.129.418.192.647.171.085-.007 2.109-.189 4.293-1.639 1.124-.746 1.667-1.436 1.976-1.902.287.251.661.676.899 1.257.301.736.28 1.5-.064 2.271-.164.366-.402.701-.729 1.024-.259.256-.358.633-.259.983.099.351.381.62.735.702 2.368.553 4.022 2.636 4.022 5.067v13.114c0 .437.284.824.701.954 1.011.317 1.718 1.598 1.718 3.116 0 1.759-.979 3.191-2.181 3.191-.11 0-.239-.022-.395-.068-.263-.078-.549-.043-.787.097-.238.139-.408.371-.469.64-1.089 4.758-4.374 8.866-8.787 10.987-.398.191-.624.621-.555 1.057s.416.775.853.835c10.294 1.401 18.057 10.296 18.057 20.69v7.899c0 .381-.31.691-.691.691h-49.309c-.381 0-.691-.31-.691-.691v-7.899c0-10.393 7.763-19.287 18.057-20.689z"/>
                                    <path d="m57.989 42.225c.447-1.343.985-2.355 1.601-3.012.515-.55 1.395-.83 2.617-.83 1.044 0 1.859.285 2.493.871.611.564.908 1.237.908 2.055 0 .396-.09.75-.276 1.083-.221.397-.499.765-.825 1.092-.366.366-.993.938-1.864 1.701-1.027.9-1.859 1.693-2.472 2.357-.669.724-1.212 1.572-1.613 2.521-.408.967-.615 2.11-.615 3.396 0 1.202.351 2.147 1.042 2.81.535.512 1.17.825 1.895.935-.797.148-1.501.516-2.1 1.099-.802.785-1.209 1.762-1.209 2.905 0 1.278.432 2.3 1.284 3.038.811.705 1.771 1.063 2.856 1.063 1.062 0 2.009-.363 2.813-1.079.84-.745 1.267-1.762 1.267-3.021 0-1.139-.397-2.113-1.182-2.898-.64-.639-1.407-1.021-2.285-1.14 1.397-.276 2.309-1.273 2.595-2.851.146-.651.255-1.105.328-1.363.058-.205.141-.414.247-.621.1-.194.267-.426.494-.687.258-.295.61-.646 1.04-1.038 1.689-1.51 2.886-2.608 3.557-3.265.723-.708 1.354-1.557 1.875-2.524.552-1.024.832-2.22.832-3.553 0-1.68-.476-3.256-1.414-4.684-.932-1.415-2.259-2.543-3.945-3.356-1.661-.8-3.587-1.206-5.724-1.206-2.307 0-4.366.486-6.12 1.446-1.757.96-3.119 2.199-4.048 3.684-.937 1.499-1.412 3.015-1.412 4.508 0 .903.363 1.733 1.079 2.464.722.742 1.621 1.119 2.669 1.119 1.233 0 2.864-.529 3.612-3.019zm5.205 17.501c.406.406.595.877.595 1.483 0 .682-.188 1.166-.595 1.526-.892.794-2.166.752-3.029.001-.255-.221-.595-.621-.595-1.528 0-.601.193-1.07.606-1.474.423-.412.91-.604 1.534-.604.605.001 1.077.19 1.484.596zm-8.819-16.482c-.502 0-.895-.163-1.237-.515-.344-.351-.511-.701-.511-1.068 0-1.112.373-2.272 1.107-3.447.745-1.19 1.859-2.196 3.312-2.99 1.457-.797 3.193-1.201 5.161-1.201 1.834 0 3.468.339 4.856 1.007 1.356.653 2.414 1.546 3.143 2.654.73 1.111 1.085 2.283 1.085 3.584 0 .998-.199 1.875-.592 2.604-.425.789-.935 1.477-1.514 2.044-.649.635-1.823 1.713-3.498 3.209-.492.449-.898.855-1.207 1.208-.339.39-.59.747-.766 1.089-.167.325-.299.658-.393.992-.079.279-.198.768-.363 1.508-.2 1.102-.734 1.327-1.475 1.327-.459 0-.814-.135-1.116-.424-.282-.27-.425-.729-.425-1.365 0-1.018.154-1.898.458-2.617.311-.735.728-1.389 1.24-1.942.566-.612 1.347-1.356 2.321-2.21.917-.803 1.558-1.389 1.961-1.792.458-.458.847-.974 1.156-1.531.352-.628.53-1.321.53-2.058 0-1.388-.522-2.573-1.55-3.523-1.005-.931-2.301-1.403-3.851-1.403-1.797 0-3.169.492-4.077 1.462-.825.88-1.492 2.105-2.047 3.775-.43 1.43-1.105 1.623-1.708 1.623z"/></g></g></g></g></g>
                                </svg>
                            </div>
                            <div class="w-full flex-1">
                                <div class="text-3xl font-bold leading-8">{{ missingProp }}</div>
                                <div class="mt-1 text-base text-gray-600">Missing</div>
                            </div>
                        </div>
                    </div>
                    <!-- 損毀的統計 -->
                    <div class="p-2 lg:w-1/3 md:w-1/2 w-full inline-block">
                        <div class="transform hover:scale-105 shadow-xl rounded-lg bg-white p-2">
                            <div class="flex justify-between">
                                <svg enable-background="new 0 0 512 512" height="30px" viewBox="0 0 512 512" width="30px" xmlns="http://www.w3.org/2000/svg">
                                    <path d="m475 303.702h-465v-209.758c0-22.066 17.909-39.954 40-39.954h385c22.091 0 40 17.888 40 39.954z" fill="#a4caff"/>
                                    <path d="m435 363.633h-385c-22.091 0-40-17.888-40-39.954v-19.977h465v19.977c0 22.066-17.909 39.954-40 39.954z" fill="#e7e7ef"/>
                                    <path d="m348.5 457.524h-212c0-22.066 17.909-39.954 40-39.954h132c22.091 0 40 17.888 40 39.954z" fill="#e7e7ef"/>
                                    <path d="m482 457.524c11.046 0 20-8.944 20-19.977v-229.734c0-11.033-8.954-19.977-20-19.977h-130c-11.046 0-20 8.944-20 19.977v229.734c0 11.033 8.954 19.977 20 19.977z" fill="#a4caff"/>
                                    <path d="m202.5 363.633h80v53.938h-80z" fill="#e7e7ef"/>
                                    <path d="m452 227.79h-70l-10-39.954h90z" fill="#e7e7ef"/>
                                    <path d="m485 177.997v-84.055c0-6.742-1.32-13.284-3.931-19.437-2.52-5.943-6.13-11.287-10.72-15.871-4.59-4.586-9.93-7.946-15.89-10.463-6.16-2.597-12.71-3.68-19.46-3.68h-147.859c-5.51
                                        0-10 4.485-10 9.988 0 5.513 4.49 9.988 10 9.988h.021 147.839c16.51 0 29.97 12.985 30 29.476v84.393h-113c-16.542 0-30 12.955-30 29.478v86.388h-302v-200.26c.03-16.491
                                        13.49-29.476 30-29.476h147.14c5.52 0 10-4.485 10-9.988s-4.48-9.988-10-9.988h-147.14c-6.75 0-13.3 1.084-19.46 3.68-5.96 2.518-11.3 6-15.89 10.586-4.6 4.585-8.2 9.867-10.72
                                        15.81-2.61 6.153-3.93 12.634-3.93 19.376v229.736c0 27.538 22.43 50.43 50 50.43h142v33.961h-15.5c-27.57 0-50 22.404-50 49.942 0 5.516 4.477 9.988 10 9.988h345.5c16.542
                                        0 30-13.93 30-30.453v-229.733c0-15.512-11.861-28.307-27-29.816zm-435 176.135c-16.542 0-30-13.93-30-30.453v-9.501h302v39.954zm272
                                        19.977v35.569c-4.296-1.083-8.823-1.608-13.5-1.608h-16.5v-33.961zm-50 0v33.961h-60v-33.961zm-123.787 73.914c4.127-11.986 15.249-19.977
                                        28.287-19.977h132c4.857 0 9.44 1.07 13.5 3.018v6.483c0 3.684.673 7.213 1.896 10.476zm300.857-249.711-4.878 19.977h-54.385l-4.878-19.977zm42.93
                                        239.723c0 5.517-4.477 9.988-10 9.988h-130c-5.523 0-10-4.472-10-9.988v-229.735c0-5.517 4.477-9.988 10-9.988h12.314l7.984 32.144c1.112 4.446 5.112
                                        7.809 9.701 7.809h70c4.589 0 8.589-3.363 9.701-7.809l7.984-32.144h12.316c5.523 0 10 4.472 10 9.988z"/>
                                    <circle cx="242.14" cy="54" r="10"/>
                                    <path d="m424.52 271.247c-1.899-2.167-4.64-3.406-7.529-3.406-2.421 0-4.761.88-6.58 2.478-2.011 1.758-3.21 4.185-3.391 6.852-.17 2.667.7 5.233 2.46
                                        7.242l17.44 19.897-11.83 28.906-34.39 5.804c-4.101.689-7.381 3.895-8.15 7.98l-7.37 38.736c-.5 2.627.05 5.284 1.55 7.491s3.78 3.696 6.4 4.195c.62.11
                                        1.25.17 1.88.17 4.79 0 8.92-3.416 9.81-8.121l6.08-31.913 26.329-4.447 8.881 14.555c1.83 2.997 5.03 4.785 8.551 4.785 1.83 0 3.63-.499 5.199-1.458
                                        2.28-1.388 3.881-3.586 4.511-6.173.63-2.598.21-5.274-1.181-7.552l-9.787-16.025 14.378-35.095c1.439-3.526.779-7.491-1.74-10.358z"/>
                                    <path d="m233.11 259.168c.189.011.378.016.565.016 5.268 0 9.679-4.113 9.976-9.432l3.152-56.446 30.624-9.955c3.165-1.029 5.61-3.319
                                        6.522-6.518l13.599-47.44h38.452c5.522 0 10-4.472 10-9.988s-4.478-9.988-10-9.988h-46c-4.468 0-8.394 2.717-9.617 7.008l-14.208 49.698-71.588
                                        23.211-13.1-42.833c-1.614-5.274-7.204-8.255-12.486-6.647-5.282 1.613-8.254 7.189-6.64 12.466l10.563 34.508-50.035-15.408c-4.094-1.26-8.535.222-11.046
                                        3.688l-18.245 25.178c-3.238 4.468-2.237 10.713 2.237 13.947 1.772 1.282 3.823 1.898 5.855 1.898 3.098 0 6.154-1.434 8.109-4.133l14.045-19.382 61.211
                                        18.847c1.97.607 4.08.59 6.041-.048l35.307-11.478-2.72 48.702c-.308 5.508 3.913 10.222 9.427 10.529z"/>
                                </svg>
                            </div>
                            <div class="w-full flex-1">
                                <div class="text-3xl font-bold leading-8">{{ brokenProp }}</div>
                                <div class="mt-1 text-base text-gray-600">Broken</div>
                            </div>
                        </div>
                    </div>
                    {% endverbatim %}
                </div>
            </div>
        </div>
    </div>
    <!-- 攝像頭 彈跳視窗 -->
    <div v-cloak :class="{'fixed z-20 inset-0 overflow-y-auto select-none':true, 'hidden': !isCameraModel}" aria-labelledby="modal-title" role="dialog"
        aria-modal="true">
        <div class="flex flex-wrap justify-center content-center text-center sm:p-0 h-full p-4">
            <!-- 背景黑色 -->
            <div @click="showCamera(false)" class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
                aria-hidden="true"></div>
            {% verbatim %}
            <!-- 對話框實體 sm:align-middle sm:max-w-lg  -->
            <div class="inline-block align-bottom bg-gray-100 rounded-lg shadow-xl transform transition-all
                        duration-75 sm:max-w-4xl sm:w-10/12 w-full max-h-full p-1">
                <div>{{ content }}</div>
                <video id="preview" class="w-full" autoplay></video>
            </div>
            {% endverbatim %}
        </div>
    </div>
    <!-- 詳細資訊 彈跳視窗 -->
    <div v-cloak :class="{'fixed z-10 inset-0 overflow-y-auto':true, 'hidden': isModel }" aria-labelledby="modal-title" role="dialog"
        aria-modal="true">
        <div class="flex flex-wrap justify-center content-center text-center sm:p-0 h-full p-3">
            <!-- 背景黑色 -->
            <div @click="hideDetail()" class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
                aria-hidden="true"></div>

            <!-- 對話框實體 sm:align-middle sm:max-w-lg  -->
            <div class="inline-block align-bottom bg-white rounded-lg text-left shadow-xl transform transition-all
                        duration-75 sm:max-w-2xl sm:w-10/12 w-full max-h-full">
                <!-- 關閉叉叉按鈕 -->
                <div @click="hideDetail()"
                    class="absolute right-0 w-8 h-8 flex flex-wrap justify-center content-center m-2 rounded-lg hover:bg-red-200 active:bg-blue-400 active:text-white transition-all duration-500">
                    <svg class="w-3 h-3" version="1.1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.001 512.001"
                        style="enable-background:new 0 0 512.001 512.001;" xml:space="preserve">
                        <g>
                            <path d="M284.286,256.002L506.143,34.144c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L256,227.717
                                L34.143,5.859c-7.811-7.811-20.475-7.811-28.285,0c-7.81,7.811-7.811,20.475,0,28.285l221.857,221.857L5.858,477.859
                                c-7.811,7.811-7.811,20.475,0,28.285c3.905,3.905,9.024,5.857,14.143,5.857c5.119,0,10.237-1.952,14.143-5.857L256,284.287
                                l221.857,221.857c3.905,3.905,9.024,5.857,14.143,5.857s10.237-1.952,14.143-5.857c7.811-7.811,7.811-20.475,0-28.285
                                L284.286,256.002z" />
                        </g>
                    </svg>
                </div>
                <div class="bg-white pt-5 pb-4 sm:pb-4 flex flex-col h-full overflow-hidden rounded-lg">
                    <div class="px-4 sm:px-6 pb-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">
                            Property Information
                        </h3>
                    </div>
                    
                    <div class="border-t border-gray-200 overflow-y-auto">
                        {% verbatim %}
                        <dl>
                            <div class="bg-gray-100 px-4 py-5">
                                <div class="relative w-auto">
                                    <img :src="currentData.image">
                                </div>
                            </div>
                            <div class="bg-gray-100 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    Full name
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    {{ currentData.product_name }}
                                </dd>
                            </div>
                            <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    Brand
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    {{ currentData.brand }}
                                </dd>
                            </div>
                            <div class="bg-gray-100 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    Number
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    {{ currentData.product_number }}-{{ currentData.number }}
                                </dd>
                            </div>
                            <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    Position
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    {{ currentData.position }}
                                </dd>
                                <dt class="text-sm font-medium text-gray-500">
                                    LabelPosition
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    {{ currentData.label_position }}
                                </dd>
                            </div>
                            <div class="bg-gray-100 px-4 py-5 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    GetDate
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    {{ currentData.get_date }}
                                </dd>
                                <dt class="text-sm font-medium text-gray-500">
                                    Expiry
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    {{ currentData.age_limit }}
                                </dd>
                            </div>
                            <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    Price
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    ${{ currentData.single_value }}
                                </dd>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    {{ currentData.quantity }}/{{ currentData.unit }}
                                </dd>
                            </div>
                            <div class="bg-gray-100 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    Tips
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    {{ currentData.tip }}
                                </dd>
                            </div>
                            <div class="bg-gray-100 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    QRcode
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    <div id="qrcode"></div>
                                </dd>
                            </div>
                            <div class="bg-gray-100 px-4 py-5 flex-row flex justify-center sm:px-6 gap-5">
                                <button @click="showRevise(true)" class="bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow">
                                    修改資料
                                </button>
                            </div>
                        </dl>
                        {% endverbatim %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 修改資訊 彈跳視窗 -->
    <div v-cloak :class="{'fixed z-20 inset-0 overflow-y-auto':true, 'hidden': !isReviseModel }" aria-labelledby="modal-title" role="dialog"
        aria-modal="true">
        <div class="flex flex-wrap justify-center content-center text-center sm:p-0 h-full p-3">
            <!-- 背景黑色 -->
            <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
                aria-hidden="true"></div>

            <!-- 對話框實體 sm:align-middle sm:max-w-lg  -->
            <div class="inline-block align-bottom bg-white rounded-lg text-left shadow-xl transform transition-all
                        duration-75 sm:max-w-2xl sm:w-10/12 w-full max-h-full">
                <!-- 關閉叉叉按鈕 -->
                <div @click="showRevise(false)"
                    class="absolute right-0 w-8 h-8 flex flex-wrap justify-center content-center m-2 rounded-lg hover:bg-red-200 active:bg-blue-400 active:text-white transition-all duration-500">
                    <svg class="w-3 h-3" version="1.1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.001 512.001"
                        style="enable-background:new 0 0 512.001 512.001;" xml:space="preserve">
                        <g>
                            <path d="M284.286,256.002L506.143,34.144c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L256,227.717
                                L34.143,5.859c-7.811-7.811-20.475-7.811-28.285,0c-7.81,7.811-7.811,20.475,0,28.285l221.857,221.857L5.858,477.859
                                c-7.811,7.811-7.811,20.475,0,28.285c3.905,3.905,9.024,5.857,14.143,5.857c5.119,0,10.237-1.952,14.143-5.857L256,284.287
                                l221.857,221.857c3.905,3.905,9.024,5.857,14.143,5.857s10.237-1.952,14.143-5.857c7.811-7.811,7.811-20.475,0-28.285
                                L284.286,256.002z" />
                        </g>
                    </svg>
                </div>
                <div class="bg-white pt-5 pb-4 sm:pb-4 flex flex-col h-full overflow-hidden rounded-lg">
                    <div class="px-4 sm:px-6 pb-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">
                            修改產品資料
                        </h3>
                    </div>
                    
                    <div class="border-t border-gray-200 overflow-y-auto">
                        {% verbatim %}
                        <dl>
                            <div class="bg-gray-100 px-4 py-5">
                                <div class="relative w-auto">
                                    <img :src="image">
                                    <input type="file" class="absolute left-0 top-0 w-full h-full opacity-0"
                                           accept="image/gif, image/jpeg, image/png" @change="getImg($event)" >
                                </div>
                            </div>
                            <div class="bg-gray-100 px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    Full name
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2 relative">
                                    <input v-model="product_name" type="text" class="w-full">
                                </dd>
                            </div>
                            <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    Brand
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    <input v-model="brand" type="text" class="w-full" list="brandSelect">
                                    <datalist id="brandSelect">
                                        <option disabled selected>Choose</option>
                                            <option v-for="b in brandList">
                                                {{ b }}
                                            </option>
                                    </datalist>
                                </dd>
                            </div>
                            <div class="bg-gray-100 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    Product number
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    <input v-model="product_number" type="text" class="w-full">
                                </dd>
                            </div>
                            <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    Serial
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    <input v-model="number" type="text" class="w-full">
                                </dd>
                            </div>
                            <div class="bg-gray-100 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    Position
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    <input v-model="position" type="text" class="w-full" list="PositionSelect">
                                    <datalist id="PositionSelect">
                                        <option disabled selected>Choose</option>
                                            <option v-for="p in positionList">
                                                {{ p }}
                                            </option>
                                    </datalist>
                                </dd>
                            </div>
                            <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    LabelPosition
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    <input v-model="label_position" type="text" class="w-full" list="labelPositionSelect">
                                    <datalist id="labelPositionSelect">
                                        <option disabled selected>Choose</option>
                                            <option v-for="p in positionList">
                                                {{ p }}
                                            </option>
                                    </datalist>
                                </dd>
                            </div>
                            <div class="bg-gray-100 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    GetDate
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    <input v-model="get_date" type="date" class="w-full">
                                </dd>
                            </div>
                            <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    Expiry
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    <input v-model="age_limit" type="number" class="w-full">
                                </dd>
                            </div>
                            <div class="bg-gray-100 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    Price
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    <input v-model="single_value" type="number" class="w-full">
                                </dd>
                            </div>
                            <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    quantity
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    <input v-model="quantity" type="number" class="w-full">
                                </dd>
                            </div>
                            <div class="bg-gray-100 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    unit
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    <input v-model="unit" type="text" class="w-full" list="UnitSelect">
                                    <datalist id="UnitSelect">
                                        <option disabled selected>Choose</option>
                                            <option v-for="u in unitList">
                                                {{ u }}
                                            </option>
                                    </datalist>
                                </dd>
                            </div>
                            <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                <dt class="text-sm font-medium text-gray-500">
                                    Tips
                                </dt>
                                <dd class="mt-1 text-xl text-gray-900 sm:mt-0 sm:col-span-2">
                                    <textarea v-model="tip" class="w-full"></textarea>
                                </dd>
                            </div>
                            <div class="bg-gray-100 px-4 py-5 flex-row flex justify-center sm:px-6 gap-5">
                                <button @click="showRevise(false)" class="bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow">
                                    取消
                                </button>
                                <button @click="updateData()" class="bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow">
                                    保存
                                </button>
                            </div>
                        </dl>
                        {% endverbatim %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 排列 彈跳視窗 -->
    <div v-cloak :class="{'fixed z-20 inset-0 overflow-y-auto select-none':true, 'hidden': !isSortModel}" aria-labelledby="modal-title" role="dialog"
        aria-modal="true">
        <div class="flex flex-wrap justify-center content-center text-center sm:p-0 h-full p-3">
            <!-- 背景黑色 -->
            <div @click="showSort(false)" class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
                aria-hidden="true"></div>

            <!-- 對話框實體 sm:align-middle sm:max-w-lg  -->
            <div class="align-bottom bg-white rounded-lg shadow-xl transform transition-all gap-2 flex flex-col
                        duration-75 sm:max-w-lg sm:w-10/12 w-full max-h-full p-4 md:text-3xl text-xl text-center font-semibold">
                <ul class="flex flex-col p-4">
                    <!-- 按照名稱排序 -->
                    <li @click="sortProperty(1)" class="border-gray-400 flex flex-row mb-2">
                        <div class="select-none cursor-pointer bg-gray-200 rounded-md flex flex-1 items-center p-4  transition duration-500 ease-in-out transform hover:-translate-y-1 hover:shadow-lg">
                            <div class="flex flex-col rounded-md w-10 h-10 justify-center items-center mr-4">
                                <svg height="30px" viewBox="0 -32 512 512" width="30px" xmlns="http://www.w3.org/2000/svg">
                                    <path d="m453.332031 64h-394.664062c-32.363281 0-58.667969 26.304688-58.667969 58.667969v266.664062c0 32.363281 26.304688 58.667969
                                        58.667969 58.667969h394.664062c32.363281 0 58.667969-26.304688
                                        58.667969-58.667969v-266.664062c0-32.363281-26.304688-58.667969-58.667969-58.667969zm0 0" fill="#eceff1"/>
                                    <path d="m304 0h-96c-20.585938 0-37.332031 16.746094-37.332031 37.332031v42.667969c0 20.585938 16.746093
                                        37.332031 37.332031 37.332031h96c20.585938 0 37.332031-16.746093 37.332031-37.332031v-42.667969c0-20.585937-16.746093-37.332031-37.332031-37.332031zm0
                                        0" fill="#607d8b"/>
                                    <path d="m213.332031 202.667969c0 29.453125-23.875 53.332031-53.332031 53.332031s-53.332031-23.878906-53.332031-53.332031c0-29.457031
                                        23.875-53.335938 53.332031-53.335938s53.332031 23.878907 53.332031 53.335938zm0 0" fill="#42a5f5"/>
                                    <path d="m197.332031 277.332031h-74.664062c-32.363281 0-58.667969 26.304688-58.667969 58.667969v10.667969c0 8.832031 7.167969
                                        16 16 16h160c8.832031 0 16-7.167969 16-16v-10.667969c0-32.363281-26.304688-58.667969-58.667969-58.667969zm0 0" fill="#42a5f5"/>
                                    <g fill="#607d8b">
                                    <path d="m432 192h-117.332031c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h117.332031c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0"/>
                                    <path d="m432 277.332031h-117.332031c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h117.332031c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0"/>
                                    <path d="m432 362.667969h-117.332031c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h117.332031c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0"/>
                                    </g>
                                </svg>
                            </div>
                            <div class="flex-1 pl-1 mr-16">
                                <div class="font-medium">Name</div>
                                <div class="text-gray-600 text-sm">名稱</div>
                            </div>
                        </div>
                    </li>
                    <!-- 按照盤點排序 -->
                    <li @click="sortProperty(2)" class="border-gray-400 flex flex-row mb-2">
                        <div class="select-none cursor-pointer bg-gray-200 rounded-md flex flex-1 items-center p-4  transition duration-500 ease-in-out transform hover:-translate-y-1 hover:shadow-lg">
                            <div class="flex flex-col rounded-md w-10 h-10 justify-center items-center mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="30px" height="30px"
                                    viewBox="0 0 507.2 507.2" style="enable-background:new 0 0 507.2 507.2;" xml:space="preserve">
                                    <circle style="fill:#32BA7C;" cx="253.6" cy="253.6" r="253.6"/>
                                    <path style="fill:#0AA06E;" d="M188.8,368l130.4,130.4c108-28.8,188-127.2,188-244.8c0-2.4,0-4.8,0-7.2L404.8,152L188.8,368z"/>
                                    <path style="fill:#FFFFFF;" d="M260,310.4c11.2,11.2,11.2,30.4,0,41.6l-23.2,23.2c-11.2,11.2-30.4,11.2-41.6,0L93.6,272.8
                                        c-11.2-11.2-11.2-30.4,0-41.6l23.2-23.2c11.2-11.2,30.4-11.2,41.6,0L260,310.4z"/>
                                    <path style="fill:#FFFFFF;" d="M348.8,133.6c11.2-11.2,30.4-11.2,41.6,0l23.2,23.2c11.2,11.2,11.2,30.4,0,41.6l-176,175.2
                                        c-11.2,11.2-30.4,11.2-41.6,0l-23.2-23.2c-11.2-11.2-11.2-30.4,0-41.6L348.8,133.6z"/>
                                </svg>
                            </div>
                            <div class="flex-1 pl-1 mr-16">
                                <div class="font-medium">Checked</div>
                                <div class="text-gray-600 text-sm">盤點</div>
                            </div>
                        </div>
                    </li>
                    <!-- 按照沒有盤點排序 -->
                    <li @click="sortProperty(2, true)" class="border-gray-400 flex flex-row mb-2">
                        <div class="select-none cursor-pointer bg-gray-200 rounded-md flex flex-1 items-center p-4  transition duration-500 ease-in-out transform hover:-translate-y-1 hover:shadow-lg">
                            <div class="flex flex-col rounded-md w-10 h-10 justify-center items-center mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                    <path d="m256 0c-141.164062 0-256 114.835938-256 256s114.835938 256 256 256 256-114.835938 256-256-114.835938-256-256-256zm0 0" fill="#f44336"/>
                                    <path d="m350.273438 320.105469c8.339843 8.34375 8.339843 21.824219 0 30.167969-4.160157 4.160156-9.621094 6.25-15.085938 6.25-5.460938
                                        0-10.921875-2.089844-15.082031-6.25l-64.105469-64.109376-64.105469 64.109376c-4.160156 4.160156-9.621093 6.25-15.082031 6.25-5.464844
                                        0-10.925781-2.089844-15.085938-6.25-8.339843-8.34375-8.339843-21.824219 0-30.167969l64.109376-64.105469-64.109376-64.105469c-8.339843-8.34375-8.339843-21.824219
                                        0-30.167969 8.34375-8.339843 21.824219-8.339843 30.167969 0l64.105469 64.109376 64.105469-64.109376c8.34375-8.339843 21.824219-8.339843
                                        30.167969 0 8.339843 8.34375 8.339843 21.824219 0 30.167969l-64.109376 64.105469zm0 0" fill="#fafafa"/>
                                </svg>
                            </div>
                            <div class="flex-1 pl-1 mr-16">
                                <div class="font-medium">Not Checked</div>
                                <div class="text-gray-600 text-sm">未盤點</div>
                            </div>
                        </div>
                    </li>
                    <!-- 按照產品編號排序 -->
                    <li @click="sortProperty(3)" class="border-gray-400 flex flex-row mb-2">
                        <div class="select-none cursor-pointer bg-gray-200 rounded-md flex flex-1 items-center p-4  transition duration-500 ease-in-out transform hover:-translate-y-1 hover:shadow-lg">
                            <div class="flex flex-col rounded-md w-10 h-10 justify-center items-center mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="30px" height="30px"
                                viewBox="0 0 302.141 302.141" style="enable-background:new 0 0 302.141 302.141;" xml:space="preserve">
                               <path d="M24.067,26.975c0.438,1.726,1.648,3.155,3.279,3.871c1.631,0.716,3.501,0.64,5.069-0.206l4.681-2.527v56.4
                                   c0,3.192,2.588,5.78,5.78,5.78h11.356c3.192,0,5.78-2.588,5.78-5.78V7.067c0-3.192-2.588-5.78-5.78-5.78h-8.661
                                   c-1.605,0-3.186,0.396-4.601,1.154l-16.376,8.764c-2.342,1.254-3.528,3.943-2.875,6.518L24.067,26.975z"/>
                               <path d="M161.08,84.513V74.56c0-3.192-2.588-5.78-5.78-5.78h-18.85c13.229-13.198,22.759-25.185,22.759-40.186
                                   C159.209,14.823,149.894,0,129.444,0c-9.513,0-18.644,3.285-25.709,9.251l-0.408,0.344c-1.973,1.667-2.601,4.441-1.538,6.795
                                   l3.878,8.586c0.743,1.646,2.213,2.849,3.973,3.254c1.76,0.405,3.607-0.037,4.995-1.192l0.714-0.594
                                   c2.211-1.842,6.707-4.931,11.99-4.931c6.112,0,8.604,2.425,8.604,8.302c-0.09,8.794-7.824,17.561-26.341,35.184l-8.285,8.045
                                   c-1.121,1.088-1.753,2.584-1.753,4.146v7.323c0,3.192,2.588,5.78,5.78,5.78H155.3C158.492,90.293,161.08,87.705,161.08,84.513z"/>
                               <path d="M186.485,85.065l0.462,0.303c4.366,2.866,13.095,6.212,23.328,6.212c23.504,0,34.21-15.187,34.21-29.296
                                   c0-8.366-3.784-15.699-10.092-20.527c4.609-4.558,7.168-10.494,7.168-17.139C241.56,12.76,232.722,0,213.317,0
                                   c-10.38,0-19.27,3.831-23.73,7.111l-0.424,0.311c-2.061,1.515-2.88,4.205-2.015,6.612l3.185,8.862
                                   c0.613,1.704,1.988,3.022,3.716,3.562c1.728,0.539,3.61,0.238,5.083-0.815l0.76-0.543c2.662-1.903,7.23-3.823,11.434-3.823
                                   c6.849,0,6.849,3.488,6.849,4.978c0,5.208-7.757,6.38-10.475,6.38h-6.438c-3.192,0-5.78,2.588-5.78,5.78v9.133
                                   c0,3.192,2.588,5.78,5.78,5.78h6.438c3.066,0,13.076,0.633,13.166,8.839c0.018,0.978-0.144,3.459-2.038,5.388
                                   c-2.226,2.268-5.944,2.744-8.671,2.744c-5.468,0-10.978-2.256-13.347-3.773l-0.751-0.481c-1.486-0.951-3.326-1.171-4.994-0.597
                                   c-1.669,0.574-2.984,1.878-3.571,3.542l-3.288,9.317C183.321,80.817,184.261,83.605,186.485,85.065z"/>
                               <path d="M74.118,188.92h-4.865v-41.476c0-3.192-2.588-5.78-5.78-5.78H51.286c-1.888,0-3.656,0.922-4.738,2.469l-34.261,49.027
                                   c-0.678,0.971-1.042,2.126-1.042,3.311v7.714c0,3.192,2.588,5.78,5.78,5.78h29.546v14.924c0,3.192,2.588,5.78,5.78,5.78h11.122
                                   c3.192,0,5.78-2.588,5.78-5.78v-14.924h4.865c3.192,0,5.78-2.588,5.78-5.78V194.7C79.898,191.508,77.31,188.92,74.118,188.92z
                                    M46.571,188.92h-5.939l5.939-8.255V188.92z"/>
                               <path d="M284.305,263.73l-44.128-44.127c-0.469-0.469-0.961-0.901-1.46-1.32c12.638-25.838,8.253-57.968-13.194-79.417
                                   c-26.992-26.992-70.91-26.99-97.902,0c-26.99,26.991-26.99,70.91,0,97.901c13.496,13.496,31.224,20.244,48.951,20.244
                                   c10.446,0,20.885-2.363,30.466-7.049c0.419,0.499,0.85,0.991,1.319,1.46l44.128,44.127c4.394,4.393,10.152,6.59,15.91,6.59
                                   c5.758,0,11.517-2.197,15.91-6.59C293.092,286.764,293.091,272.517,284.305,263.73z M148.833,215.556
                                   c-15.294-15.295-15.294-40.181,0-55.476c7.648-7.646,17.692-11.471,27.738-11.471c10.046,0,20.091,3.824,27.738,11.471
                                   c15.294,15.295,15.294,40.181,0,55.476C189.015,230.851,164.128,230.851,148.833,215.556z"/>
                                </svg>
                            </div>
                            <div class="flex-1 pl-1 mr-16">
                                <div class="font-medium">Product Number</div>
                                <div class="text-gray-600 text-sm">產品編號</div>
                            </div>
                        </div>
                    </li>
                    <!-- 按照位置排序 -->
                    <li @click="sortProperty(5)" class="border-gray-400 flex flex-row mb-2">
                        <div class="select-none cursor-pointer bg-gray-200 rounded-md flex flex-1 items-center p-4  transition duration-500 ease-in-out transform hover:-translate-y-1 hover:shadow-lg">
                            <div class="flex flex-col rounded-md w-10 h-10 justify-center items-center mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" viewBox="0 0 512 512">
                                    <path d="m398.415 424.792-134.4 84.888c-4.841 3.062-11.082 3.124-16.02 0l-134.4-84.888c-9.311-5.885-9.31-19.472 0-25.357l132.46-83.658c4.838-3.054
                                    11.02-3.082 15.85-.1l136.35 83.659c9.456 5.788 9.534 19.528.16 25.456z" fill="#59c36a"/>
                                    <path d="m398.415 424.792-134.4 84.888c-2.45 1.55-5.23 2.32-8.01 2.32v-198.413c4.537.598-4.94-4.561 142.25 85.748 9.456 5.789 9.534 19.529.16
                                    25.457z" fill="#00a66c"/>
                                    <path d="m406.315 212.581c-12.84 37.165-36.27 68.88-58.92 99.546-22.32 30.218-13.567 18.714-79.09 112.305-5.956 8.55-18.644 8.55-24.6
                                    0-60.852-86.651-53.346-77.451-79.09-112.305-22.65-30.666-46.08-62.381-58.92-99.546-18.58-53.803-10.55-107.035 22.62-149.899
                                    30.37-39.245 78.11-62.682 127.69-62.682s97.32 23.437 127.69 62.682c34.519 44.604 40.428 98.329 22.62 149.899z" fill="#ff4d4d"/>
                                    <path d="m406.315 212.581c-12.84 37.165-36.27 68.88-58.92 99.546-22.32 30.218-13.567 18.714-79.09 112.305-2.8 4.019-7.4 6.419-12.3
                                    6.419v-430.851c49.58 0 97.32 23.437 127.69 62.682 34.519 44.604 40.428 98.329 22.62 149.899z" fill="#cd0000"/>
                                    <path d="m325.715 161.338c0 38.425-31.27 69.69-69.71 69.69s-69.71-31.266-69.71-69.69c0-38.435 31.27-69.7 69.71-69.7s69.71 31.265
                                    69.71 69.7z" fill="#f0f7ff"/>
                                    <path d="m325.715 161.338c0 38.425-31.27 69.69-69.71 69.69v-139.39c38.44 0 69.71 31.265 69.71 69.7z" fill="#dfe7f4"/>
                                </svg>
                            </div>
                            <div class="flex-1 pl-1 mr-16">
                                <div class="font-medium">Position</div>
                                <div class="text-gray-600 text-sm">產品位置</div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- 設定 彈跳視窗 -->
    <div v-cloak :class="{'fixed z-10 inset-0 overflow-y-auto select-none':true, 'hidden': isSettingModel}" aria-labelledby="modal-title" role="dialog"
        aria-modal="true">
        <div class="flex flex-wrap justify-center content-center text-center sm:p-0 h-full p-3">
            <!-- 背景黑色 -->
            <div @click="showSetting(true)" class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
                aria-hidden="true"></div>

            <!-- 對話框實體 sm:align-middle sm:max-w-lg  -->
            <div class="align-bottom bg-white rounded-lg shadow-xl transform transition-all gap-2 flex flex-col
                        duration-75 sm:max-w-lg sm:w-10/12 w-full max-h-full p-4 md:text-3xl text-xl text-center font-semibold">
                <ul class="flex flex-col p-4">
                    <!-- 保存按鈕 -->
                    <li @click="showCheckNumberModel(true)" class="border-gray-400 flex flex-row mb-2">
                        <div class="select-none cursor-pointer bg-gray-200 rounded-md flex flex-1 items-center p-4  transition duration-500 ease-in-out transform hover:-translate-y-1 hover:shadow-lg">
                            <div class="flex flex-col rounded-md w-10 h-10 justify-center items-center mr-4">
                                <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                    viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                                    <path style="fill:#72A3FC;" d="M507.606,84.394l-80-80C424.793,1.581,420.978,0,417,0H15C6.716,0,0,6.716,0,15v482
                                        c0,8.284,6.716,15,15,15h482c8.284,0,15-6.716,15-15V95C512,91.022,510.419,87.207,507.606,84.394z"/>
                                    <path style="fill:#2892FC;" d="M507.606,84.394l-80-80C424.793,1.581,420.978,0,417,0H256v512h241c8.284,0,15-6.716,15-15V95
                                        C512,91.022,510.419,87.207,507.606,84.394z"/>
                                    <path style="fill:#F9F9F9;" d="M406,242H106c-8.284,0-15,6.716-15,15v255h330V257C421,248.716,414.284,242,406,242z"/>
                                    <path style="fill:#DFE4EA;" d="M421,257c0-8.284-6.716-15-15-15H256v270h165V257z"/>
                                    <path style="fill:#FAD557;" d="M346,452H166c-8.284,0-15-6.716-15-15s6.716-15,15-15h180c8.284,0,15,6.716,15,15
                                        S354.284,452,346,452z"/>
                                    <path style="fill:#FAD557;" d="M346,332H166c-8.284,0-15-6.716-15-15s6.716-15,15-15h180c8.284,0,15,6.716,15,15
                                        S354.284,332,346,332z"/>
                                    <path style="fill:#FAD557;" d="M346,392H166c-8.284,0-15-6.716-15-15s6.716-15,15-15h180c8.284,0,15,6.716,15,15
                                        S354.284,392,346,392z"/>
                                    <path style="fill:#5458EA;" d="M361,0H91v145c0,8.284,6.716,15,15,15h240c8.284,0,15-6.716,15-15V0z"/>
                                    <path style="fill:#3545E3;" d="M256,0v160h90c8.284,0,15-6.716,15-15V0H256z"/>
                                    <path style="fill:#FCB12B;" d="M346,422h-90v30h90c8.284,0,15-6.716,15-15S354.284,422,346,422z"/>
                                    <path style="fill:#FCB12B;" d="M346,302h-90v30h90c8.284,0,15-6.716,15-15S354.284,302,346,302z"/>
                                    <path style="fill:#FCB12B;" d="M346,362h-90v30h90c8.284,0,15-6.716,15-15S354.284,362,346,362z"/>
                                </svg>
                            </div>
                            <div class="flex-1 pl-1 mr-16">
                                <div class="font-medium">Save</div>
                                <div class="text-gray-600 text-sm">保存</div>
                            </div>
                        </div>
                    </li>
                    <!-- 重置按鈕 -->
                    <li @click="resetCheck()" class="border-gray-400 flex flex-row mb-2">
                        <div class="select-none cursor-pointer bg-gray-200 rounded-md flex flex-1 items-center p-4  transition duration-500 ease-in-out transform hover:-translate-y-1 hover:shadow-lg">
                            <div class="flex flex-col rounded-md w-10 h-10 justify-center items-center mr-4">
                                <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                    viewBox="0 0 317.878 317.878" style="enable-background:new 0 0 317.878 317.878;" xml:space="preserve">
                                    <path d="M315.607,70.237c-2.653-3.086-7.189-3.881-11.729-1.928l-38.042,16.369C240.674,43.314,195.163,15.63,143.309,15.63
                                        C64.288,15.63,0,79.918,0,158.939s64.288,143.309,143.309,143.309c11.046,0,20-8.954,20-20s-8.954-20-20-20
                                        C86.344,262.247,40,215.903,40,158.939S86.344,55.63,143.309,55.63c35.379,0,66.657,17.88,85.284,45.074l-36.271,15.607
                                        c-3.885,1.672-6.314,4.629-6.666,8.113c-0.351,3.483,1.44,6.866,4.913,9.279l93.503,64.979c2.129,1.479,4.448,2.262,6.706,2.262
                                        c0.001,0,0.001,0,0.001,0c5.028,0,8.98-3.77,9.832-9.379l17.103-112.572C318.239,75.538,317.491,72.429,315.607,70.237z"/>
                                </svg>
                            </div>
                            <div class="flex-1 pl-1 mr-16">
                                <div class="font-medium">Reset</div>
                                <div class="text-gray-600 text-sm">重置盤點</div>
                            </div>
                        </div>
                    </li>
                    <!-- 排序按鈕 -->
                    <li @click="showSort(true)" class="border-gray-400 flex flex-row mb-2">
                        <div class="select-none cursor-pointer bg-gray-200 rounded-md flex flex-1 items-center p-4  transition duration-500 ease-in-out transform hover:-translate-y-1 hover:shadow-lg">
                            <div class="flex flex-col rounded-md w-10 h-10 justify-center items-center mr-4">
                                <svg id="Capa_1" enable-background="new 0 0 512 512" height="512" viewBox="0 0 512 512" width="512" xmlns="http://www.w3.org/2000/svg">
                                    <path d="m211 105.5h-211v-105.5h211z" fill="#80eeff"/>
                                    <path d="m383.975 149.984-128.026-149.984h256.051z" fill="#ffd74f"/>
                                    <path d="m311.333 135.5v105.5h-55.333l-60-52.75 60-52.75z" fill="#13bdf7"/>
                                    <path d="m0 135.5h256v105.5h-256z" fill="#0fdbff"/>
                                    <path d="m411.667 271v105.5h-155.667l-60-52.75 60-52.75z" fill="#0f9af0"/>
                                    <path d="m0 271h256v105.5h-256z" fill="#13bdf7"/>
                                    <path d="m512 512h-256l-60-52.75 60-52.75h256z" fill="#0a77e8"/>
                                    <path d="m0 406.5h256v105.5h-256z" fill="#0f9af0"/>
                                </svg>
                            </div>
                            <div class="flex-1 pl-1 mr-16">
                                <div class="font-medium">Sort</div>
                                <div class="text-gray-600 text-sm">排序</div>
                            </div>
                        </div>
                    </li>
                    <!-- 統計按鈕 -->
                    <li @click="showStatic(true)" class="border-gray-400 flex flex-row mb-2">
                        <div class="select-none cursor-pointer bg-gray-200 rounded-md flex flex-1 items-center p-4  transition duration-500 ease-in-out transform hover:-translate-y-1 hover:shadow-lg">
                            <div class="flex flex-col rounded-md w-10 h-10 justify-center items-center mr-4">
                                <svg id="Capa_1" enable-background="new 0 0 359.625 359.625" height="512" viewBox="0 0 359.625 359.625" width="512" xmlns="http://www.w3.org/2000/svg">
                                    <g fill="#e1e6e9">
                                    <path d="m359.625 340.189-29.891-13.45v9.591h-300.908v-300.448h9.542l-13.45-29.893-13.448 29.893h9.591v308.213h3.857 3.908 300.908v9.542z"/>
                                    <path d="m0 52.122h13.094v6.7h-13.094z"/>
                                    <path d="m0 83.537h13.094v6.7h-13.094z"/>
                                    <path d="m0 114.902h13.094v6.7h-13.094z"/>
                                    <path d="m0 146.267h13.094v6.7h-13.094z"/>
                                    <path d="m0 177.681h13.094v6.7h-13.094z"/>
                                    <path d="m0 209.046h13.094v6.7h-13.094z"/>
                                    <path d="m0 240.41h13.094v6.7h-13.094z"/>
                                    <path d="m0 271.826h13.094v6.7h-13.094z"/>
                                    <path d="m0 303.191h13.094v6.7h-13.094z"/>
                                    <path d="m0 334.554h13.094v6.7h-13.094z"/>
                                    <path d="m53.34 185.903h37.963v150.377h-37.963z" fill="#e56353"/>
                                    <path d="m107.188 123.936h37.963v212.396h-37.963z" fill="#27a2db"/>
                                    <path d="m161.035 159.716h37.963v176.616h-37.963z" fill="#fcd462"/>
                                    <path d="m214.883 94.906h37.963v241.375h-37.963z" fill="#44c4a1"/>
                                    <path d="m268.73 193.364h37.963v142.917h-37.963z" fill="#27a2db"/>
                                    <path d="m94.906 133.578h-45.17v29.537h15.277l7.309 13.145 7.307-13.145h15.277z" fill="#ebf0f3"/>
                                    <path d="m148.753 70.241h-45.169v29.537h15.277l7.307 13.144 7.309-13.144h15.276z" fill="#e1e6e9"/>
                                    <path d="m202.652 107.593h-45.221v29.538h15.277l7.309 13.144 7.307-13.144h15.328z" fill="#e1e6e9"/>
                                    <path d="m256.499 44.357h-45.22v29.537h15.277l7.307 13.145 7.308-13.145h15.328z" fill="#ebf0f3"/>
                                    <path d="m310.347 140.429h-45.221v29.538h15.277l7.309 13.145 7.307-13.145h15.328z" fill="#ebf0f3"/>
                                    </g>
                                </svg>
                            </div>
                            <div class="flex-1 pl-1 mr-16">
                                <div class="font-medium">Statistic</div>
                                <div class="text-gray-600 text-sm">統計</div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- 選取框 長按或右鍵事件呼叫 彈跳視窗 -->
    <div v-cloak :class="{'fixed z-10 inset-0 overflow-y-auto select-none':true, 'hidden': isStatusModel}" aria-labelledby="modal-title" role="dialog"
        aria-modal="true">
        <div class="flex flex-wrap justify-center content-center text-center sm:p-0 h-full p-3">
            <!-- 背景黑色 -->
            <div @click="hideStatusModel()" class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
                aria-hidden="true"></div>

            <!-- 對話框實體 sm:align-middle sm:max-w-lg  -->
            <div class="inline-block align-bottom bg-white rounded-lg shadow-xl transform transition-all
                        duration-75 sm:max-w-2xl sm:w-10/12 w-full max-h-full p-4 md:text-3xl text-xl text-center font-semibold">
                更改物品狀態，請選取
                <ul class="md:text-xl text-md text-center font-semibold list-none p-3">
                    <li class="border-black border-2 rounded-lg m-2 p-4 hover:bg-black transition duration-300 hover:text-white cursor-pointer shadow-lg" @click="changeStatus(1)">取消</li>
                    <li class="border-black border-2 rounded-lg m-2 p-4 hover:bg-black transition duration-300 hover:text-white cursor-pointer shadow-lg" @click="changeStatus(2)">損毀</li>
                    <li class="border-black border-2 rounded-lg m-2 p-4 hover:bg-black transition duration-300 hover:text-white cursor-pointer shadow-lg" @click="changeStatus(3)">遺失</li>
                    <li class="border-black border-2 rounded-lg m-2 p-4 hover:bg-black transition duration-300 hover:text-white cursor-pointer shadow-lg" @click="changeStatus(4)">報廢</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}


{# 此部分為javaScript #}
{% block javascript %}
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/webrtc-adapter/3.3.3/adapter.min.js"></script>
{% load static %}
<script type="text/javascript" src="{% static 'javaScripts/instascan.min.js' %}"></script>
<script type="text/javascript" src="{% static 'javaScripts/qrcode.js' %}"></script>

<script>
    navbar.$data.navbarMenuStockTakingCss = navbar.$data.navbarMainMenuCss;

    var CheckSocket = null;
    function initCheckWebSocket(){
        CheckSocket = new WebSocket("ws://" + window.location.hostname + "/ws/check");
        // 連結成功
        CheckSocket.onopen = ()=>{
            // 向後台要求最近的通知
            CheckSocket.send(JSON.stringify({"action": "Hello"}));
        };
        // 通訊關閉
        CheckSocket.onclose = ()=>{
            // 若與後台斷線5秒後嘗試重新連線
            let miliSeconds = 5000;
            console.log("CheckSocket closed!Try connect after " + miliSeconds/1000 + "s...");
            setTimeout(()=>{
                initCheckWebSocket();
            }, miliSeconds);
        };
        // 接收到訊息
        CheckSocket.onmessage = (msg)=>{
            try{
                data = JSON.parse(msg.data)
                message = data['message'];

                // 解決後臺若傳送空值問題
                if(message["action"] == '' || message["action"] == undefined)
                    return

                // 後台通知有新訊息
                if(message['action'] == 'updateData'){
                    app.updateSingleProperty(message['checkId']);
                }else if(message['action'] == 'newCheckData'){
                    app.updateRealTimeStatus(message['data']);
                }
            }catch{
                console.log("CheckSocket onMessage Error")
            }
        };
        // 錯誤狀況
        CheckSocket.onerror = (err)=>{
            console.log(err);
        };
    }
    initCheckWebSocket();

    const app = Vue.createApp({
        data() {
            return {
                getPropertyUrl:"{% url 'getCheckProperty' %}",
                changePropStatusUrl: "{% url 'changePropStatus' %}",
                updateSingleDataUrl: "{% url 'updateSingleData' %}",
                getCheckSinglePropertyUrl: "{% url 'getCheckSingleProperty' %}",
                getUserInfoUrl: "{% url 'getUserInfo' %}",
                resetCheckPropUrl: "{% url 'resetCheckProp' %}",
                getPositionUrl: "{% url 'getPosition' %}",
                getBrandUrl: "{% url 'getBrand' %}",
                getUnitUrl: "{% url 'getUnit' %}",
                saveCheckPropUrl: "{% url 'saveCheckProp' %}",


                nowCheckedList: [],
                propertyList: [],
                allPropertyList: [],


                // 品牌、單位、位置清單
                brandList: [],
                positionList: [],
                unitList: [],


                openSearchCss: true,
                searchInputCss: "hidden",
                searchIconCss: false,
                isloading: false,
                isModel: true,
                isStatusModel: true,
                isFunctionList: false,
                isSettingModel: true,
                keyword: "",


                // 通知CSS管理
                isAlertShow: false,
                isAlertHide: true,
                alertMsg: "",
                closeAlertTimer: "",
                alertColor: "bg-green-500",


                // 確認視窗
                confirmCallback: "",
                cancelCallBack: "",
                isConfirmModel: false,
                
                // 等待提醒視窗
                isWaitingShow: false,
                isWaitingHide: true,
                

                // 統計視窗
                isStaticModel: false,


                // 統計數字
                brokenProp: 0,
                obsoleteProp: 0,
                missingProp: 0,
                notCheckedProp: 0,
                checkedProp: 0,


                // 排列視窗
                isSortModel: false,


                // 相機視窗
                isCameraModel: false,

                // 盤點次數視窗
                checkNumber: 0,
                checkTips: "",
                isCheckNumberModel: false,


                // 修改視窗
                isReviseModel: false,
                // 修改資料
                sampleImage: "https://i.pinimg.com/originals/fb/f7/64/fbf76458d74b5236cb7ee9208563bebc.gif",
                checkId: 0,
                age_limit: 0,
                brand: "",
                get_date: "",
                propId: 0,
                image: "",
                unit: "",
                label_position: "",
                number: "",
                position: "",
                product_name: "",
                product_number: "",
                quantity: 0,
                single_value: 0,
                tip: "",


                currentData: "",
                currentImage: "",
                currentQRcode: "",
                userInfo: "",
                

                // 長按事件
                timer: "",
                touchduration: 400, //length of time we want the user to touch before we do something


                // 攝像頭以及掃描到的內容
                // sample 3140101-02-0000373
                scanner: null,
                cameras: [],
                content: "None",
            }
        },
        methods: {
            // 更新單一財產資訊
            updateSingleProperty(checkId){
                let self = this;
                axios.get(this.getCheckSinglePropertyUrl,{
                    params: { "checkId": checkId }
                })
                .then((res)=>{
                    data = res.data.data;
                    self.propertyList.forEach((e)=>{
                        if(checkId == e.id) {
                            e.action_user    = data.action_user;
                            e.age_limit      = data.age_limit;
                            e.brand          = data.brand;
                            e.id             = data.id;
                            e.image          = data.image + "?s="+ (new Date()).getTime();;
                            e.is_check       = data.is_check;
                            e.label_position = data.label_position;
                            e.number         = data.number;
                            e.position       = data.position;
                            e.product_name   = data.product_name;
                            e.product_number = data.product_number;
                            e.propId         = data.propId;
                            e.get_date       = data.get_date;
                            e.quantity       = data.quantity;
                            e.single_value   = data.single_value;
                            e.status         = data.status;
                            e.tip            = data.tip;
                            e.unit           = data.unit;
                        }
                    });
                })
            },
            // 取得所有財產資訊
            getProperty(){
                let self = this;
                axios({
                    url: this.getPropertyUrl,
                    method: "get",
                })
                .then((res)=>{
                    self.allPropertyList = res.data.data;
                    self.propertyList = self.allPropertyList;
                    self.sortProperty();
                    self.isloading = true;
                    self.allPropertyList.forEach(element => {
                        if(element.is_check == 'x') self.notCheckedProp++;
                        else if(element.is_check == 'v') self.checkedProp++;
                        else if(element.is_check == 'o') self.obsoleteProp++;
                        else if(element.is_check == 'm') self.missingProp++;
                        else if(element.is_check == 'b') self.brokenProp++;
                    });
                })
            },
            // 取得用戶資料
            getUserInfo(){
                let self = this;
                axios.get(this.getUserInfoUrl)
                .then((res)=>{self.userInfo = res.data});
            },
            // 取得位置、單位、品牌
            getUnitBrandPosition(){
                let self = this;
                axios.get(this.getPositionUrl)
                .then((res)=>{self.positionList = res.data.position});
                axios.get(this.getBrandUrl)
                .then((res)=>{self.brandList = res.data.brand});
                axios.get(this.getUnitUrl)
                .then((res)=>{self.unitList = res.data.unit});
            },
            // 盤點排序
            sortProperty(mode = 1, isReverse = false){
                // 1 按照 名稱 排序
                function nameCompare( a, b ) {
                    if ( a.product_name > b.product_name ) return -1;
                    if ( a.product_name < b.product_name ) return 1;
                    return 0;
                }
                // 2 按照 盤點 排序
                function checkCompare( a, b ) {
                    if ( a.is_check == 'v' ) return -1;
                    if ( b.is_check == 'v' ) return 1;
                    return 0;
                }
                // 3 按照 產品編號 排序
                function productNumberCompare( a, b ) {
                    if ( a.product_number > b.product_number ) return -1;
                    if ( a.product_number < b.product_number ) return 1;
                    if ( a.number > b.number ) return -1;
                    if ( a.number < b.number ) return 1;
                    return 0;
                }
                // 4 按照 產品編號 排序
                function numberCompare( a, b ) {
                    if ( a.number > b.number ) return -1;
                    if ( a.number < b.number ) return 1;
                    return 0;
                }
                // 5 按照 位置 排序
                function positionCompare( a, b ) {
                    if ( a.position > b.position ) return -1;
                    if ( a.position < b.position ) return 1;
                    return 0;
                }
                // 6 按照 產貼位置 排序
                function labelPositionCompare( a, b ) {
                    if ( a.label_position > b.label_position ) return -1;
                    if ( a.label_position < b.label_position ) return 1;
                    return 0;
                }
                
                // 選取排序模式
                switch(mode){
                    case 1:
                        this.propertyList.sort(nameCompare);
                        break;
                    case 2:
                        this.propertyList.sort(checkCompare);
                        break;
                    case 3:
                        this.propertyList.sort(productNumberCompare);
                        break;
                    case 4:
                        this.propertyList.sort(numberCompare);
                        break;
                    case 5:
                        this.propertyList.sort(positionCompare);
                        break;
                    case 6:
                        this.propertyList.sort(labelPositionCompare);
                        break;
                }
                
                if(isReverse)
                    this.propertyList.reverse();
                
                this.showSort(false);
                this.showSetting(true);
            },
            // 搜尋功能
            filterProperty(){
                if(this.keyword.length == 0){
                    this.propertyList = this.allPropertyList;
                    return;
                }

                let self = this;
                function propfilter(prop){
                    if(prop.action_user.includes(self.keyword))
                        return true;
                    if(prop.product_number.includes(self.keyword))
                        return true;
                    if(prop.number.includes(self.keyword))
                        return true;
                    if(prop.product_name.includes(self.keyword))
                        return true;
                    if(prop.position.includes(self.keyword))
                        return true;
                    if(prop.label_position.includes(self.keyword))
                        return true;
                    return false;
                }

                this.propertyList = this.allPropertyList.filter(propfilter);
            },
            // 切換搜尋欄位
            openSearch(){
                if(this.openSearchCss == true){
                    this.openSearchCss = false;
                    this.searchIconCss = true;
                }else{
                    this.openSearchCss = true;
                    this.searchIconCss = false;
                }
            },
            // 切換功能欄位
            openFunction(){
                if(this.isFunctionList == true){
                    this.isFunctionList = false;
                }else{
                    this.isFunctionList = true;
                }
            },
            // 盤點按鈕
            checkProp(prop){
                // 檢查是否已經為盤點過的並檢查是否存在於修改清單內
                if(prop.is_check == 'v')
                    return;
                if(!this.nowCheckedList.includes(prop))
                    this.nowCheckedList.push(prop);

                // 扣掉統計
                if(prop.is_check == 'x') this.notCheckedProp--;
                else if(prop.is_check == 'b') this.brokenProp--;
                else if(prop.is_check == 'o') this.obsoleteProp--;
                else if(prop.is_check == 'm') this.missingProp--;
                this.checkedProp++;

                // 將改產品標記為盤點過並標記盤點人
                prop.is_check = 'v';
                prop.action_user = this.userInfo.userName;
                // 將當前財產設為選到的
                this.currentData = prop;
            },
            /*
            # 視窗的顯示與隱藏
            */
            // 顯示設定視窗
            showSetting(status){
                this.isSettingModel = status;
                if(!status)
                    document.body.style.overflow = "hidden";
                else
                    document.body.style.overflow = "auto";
            },
            // 顯示詳細資訊
            showDetail(prop){
                if(!status)
                    document.body.style.overflow = "hidden";
                else
                    document.body.style.overflow = "auto";
                this.isModel = false;
                this.currentData = prop;
            },
            // 顯示修改視窗
            showRevise(status){
                this.isReviseModel = status;
                if(status == true){
                    this.image = this.sampleImage;
                    this.product_name = this.currentData.product_name;
                    this.brand = this.currentData.brand;
                    this.product_number = this.currentData.product_number;
                    this.get_date = this.currentData.get_date;
                    this.propId = this.currentData.propId;
                    this.checkId = this.currentData.id;
                    this.label_position = this.currentData.label_position;
                    this.number = this.currentData.number;
                    this.position = this.currentData.position;
                    this.unit = this.currentData.unit;
                    this.quantity = this.currentData.quantity;
                    this.single_value = this.currentData.single_value;
                    this.tip = this.currentData.tip;
                }
            },
            // 顯示詳細資訊
            showStatic(status){
                this.isStaticModel = status;
            },
            // 顯示排列資訊
            showSort(status){
                this.isSortModel = status;
            },
            // 顯示相機視窗
            showCamera(status){
                this.isCameraModel = status;
                let self = this;
                if(status && this.cameras.length > 0){
                    var selectedCam = this.cameras[0];
                    this.cameras.forEach(c => {
                        if (c.name.indexOf('back') != -1) {
                            selectedCam = c;
                            self.scanner.mirror = false;
                            return false;
                        }
                    });
                    this.scanner.start(selectedCam);
                }else this.scanner.stop();
            },
            // 隱藏彈跳視窗
            hideDetail(){
                this.isModel = true;
                document.body.style.overflow = "auto";
            },
            // 隱藏選取模態勢窗
            hideStatusModel(){
                this.isStatusModel = true;
                document.body.style.overflow = "auto";
            },
            // 偵測觸控長按事件
            touchStart(e, prop){
                this.timer = setTimeout(()=>{this.onLongTouch(prop)},this.touchduration);
            },
            touchEnd(){
                if(this.timer)
                    clearTimeout(this.timer); // clearTimeout, not cleartimeout..
            },
            onLongTouch(prop){
                this.currentData = prop;
                this.isStatusModel = false;
            },
            // 更改物品狀態
            changeStatus(status){
                // 扣掉統計
                if(this.currentData.is_check == 'x') this.notCheckedProp--;
                else if(this.currentData.is_check == 'b') this.brokenProp--;
                else if(this.currentData.is_check == 'o') this.obsoleteProp--;
                else if(this.currentData.is_check == 'm') this.missingProp--;
                else if(this.currentData.is_check == 'v') this.checkedProp--;

                if(!this.nowCheckedList.includes(this.currentData) && this.currentData != "")
                    this.nowCheckedList.push(this.currentData);
                switch(status){
                    case 1:
                        this.currentData.is_check = 'x';
                        this.notCheckedProp++;
                        this.currentData.action_user = this.userInfo.userName;
                        break;
                    case 2:
                        this.currentData.is_check = 'b';
                        this.brokenProp++;
                        this.currentData.action_user = this.userInfo.userName;
                        break;
                    case 3:
                        this.currentData.is_check = 'm';
                        this.missingProp++;
                        this.currentData.action_user = this.userInfo.userName;
                        break;
                    case 4:
                        this.currentData.is_check = 'o';
                        this.obsoleteProp++;
                        this.currentData.action_user = this.userInfo.userName;
                        break;
                }
                this.hideStatusModel();
            },
            // 讀取Cookie
            readCookie(name) {
                var nameEQ = name + "=";
                var ca = document.cookie.split(';');
                for (var i = 0; i < ca.length; i++) {
                    var c = ca[i];
                    while (c.charAt(0) == ' ') c = c.substring(1, c.length);
                    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
                }
                return null;
            },
            // 送出盤點資料
            sendPropertyCheck(){
                
                let self = this;
                this.showConfirmModel(()=>{
                    if(this.isWaitingHide == false)
                        return;
                    this.showWaiting(true);
                    axios.post(this.changePropStatusUrl, {
                        data: this.nowCheckedList,
                    },{
                        headers: { 'X-CSRFToken': this.readCookie('csrftoken'), }
                    })
                    .then((res)=>{
                        self.showAlert("成功");
                        self.showWaiting(false);
                    })
                    .catch((err)=>{
                        self.showAlert("錯誤", "bg-red-500");
                        self.showWaiting(false);
                        console.log(err);
                    })
                },
                ()=>{
                    self.showAlert("取消", "bg-blue-500");
                });
            },
            /*
            # 通知部分
            # 彈跳通知
            */
            // 顯示通知
            showAlert(msg, bgColor = "bg-green-500", duration = 3000){
                this.alertColor = bgColor;
                this.alertMsg = msg;
                this.isAlertShow = true;
                this.isAlertHide = false;
                let self = this;
                clearTimeout(this.closeAlertTimer);
                this.closeAlertTimer = setTimeout(()=>{self.closeAlert()}, duration);
            },
            // 關閉提醒
            closeAlert(){
                this.isAlertShow = false;
                let self = this;
                setTimeout(()=>{
                    self.isAlertHide = true;
                }, 500);
            },
            /*
            # 等待部分
            # 彈跳提醒
            */
            // 顯示等待提醒
            showWaiting(status){
                this.isWaitingHide = !status;
                this.isWaitingShow = status;
            },
            // 顯示點儲存次數視窗
            showCheckNumberModel(status){
                this.isCheckNumberModel = status;
            },
            // 顯示確認視窗
            showConfirmModel(confirm, cancel){
                this.isConfirmModel = true;
                this.confirmCallback = confirm;
                this.cancelCallBack = cancel;
            },
            // 確認視窗
            confirmModel(result){
                if(result){
                    if(this.confirmCallback)
                        this.confirmCallback();
                }else{
                    if(this.cancelCallBack)
                        this.cancelCallBack();
                }
                this.isConfirmModel = false;
            },
            // 重置盤點
            resetCheck(){
                let self = this;
                this.showConfirmModel(()=>{
                    axios.get(this.resetCheckPropUrl)
                    .then((res)=>{
                        self.showAlert("重置成功");

                        self.allPropertyList.forEach(element => {
                            element.action_user = 'None';
                            element.is_check = 'x';
                        });

                        self.notCheckedProp = self.allPropertyList.length;
                        self.checkedProp = 0;
                        self.missingProp = 0;
                        self.brokenProp = 0;
                        self.obsoleteProp = 0;

                        self.nowCheckedList = [];
                    })
                    .catch((err)=>{ self.showAlert("權限不足", "bg-red-500"); })
                },
                ()=>{})
            },
            //解析掃描到的內容
            decodeQRcode(){
                // 3140101-02-0000373
                // 3142341-00001
                str = this.content.search(/[-]\d+$/);

                if(str == -1){
                    this.showAlert("QRcode內容格式不符合", "bg-red-500");
                    return;
                }

                productNumber = this.content.substring(0, str);

                serialNumber = this.content.substring(str+1, this.content.length);
                let i = 0;
                for(;i < serialNumber.length;i++) if(serialNumber[i] != "0") break;
                serialNumber = serialNumber.substring(i, serialNumber.length);


                var scanProp = undefined;
                this.allPropertyList.forEach(element => {
                    if(element.number.includes(serialNumber)){
                        if(element.product_number.includes(productNumber)){
                            scanProp = element;
                            return true;
                        }
                    }
                });
                if(scanProp != undefined){
                    this.currentData = scanProp;
                    this.showAlert( "掃描到" + this.currentData.product_name + "<br>" +
                                    "編號為" + this.content + "<br>");
                    this.showDetail(scanProp);
                }else{
                    this.showAlert(this.content + "沒有匹配到產品");
                }
            },
            // 創建QRcode
            createQRcode(){
                // var qrcode = new QRCode(document.getElementById("qrcode"), "http://jindo.dev.naver.com/collie");
                productNumber = this.currentData.product_number;
                serialNumber = this.currentData.number.split("-")[0];
                let num = 7 - serialNumber.length;
                for(let i = 0;i < num;i++) serialNumber = "0" + serialNumber;

                code = productNumber + "-" + serialNumber;

                this.currentQRcode.makeCode(code);
            },
            // 取得上傳圖片
            getImg(e){
                let files = e.target.files;
                if(files.length == 0)
                    return;
                var reader = new FileReader();
                let self = this;
                reader.onload = function (e) {
                    self.image = e.target.result;
                }
                reader.readAsDataURL(files[0]);
                this.currentImage = files[0];
            },
            // 更新資料
            updateData(){
                let myformData = new FormData();
                myformData.append('file', this.currentImage);
                myformData.append('name', this.product_name);
                myformData.append('checkId', this.checkId);
                myformData.append('propId', this.propId);
                myformData.append('brand', this.brand);
                myformData.append('number', this.product_number);
                myformData.append('serial', this.number);
                myformData.append('position', this.label_position);
                myformData.append('realPosition', this.position);
                myformData.append('getDate', this.get_date);
                myformData.append('expiryDate', this.age_limit);
                myformData.append('amount', this.quantity);
                myformData.append('price', this.single_value);
                myformData.append('tips', this.tip);
                myformData.append('unit', this.unit);

                let self = this;
                axios({
                    method: "post",
                    url: this.updateSingleDataUrl,
                    headers: { 
                        'X-CSRFToken': this.readCookie('csrftoken'),
                        "Content-Type": "multipart/form-data",
                        },
                    data: myformData,
                })
                .then((res)=>{
                    result = res.data.result;
                    // 成功則顯示成功，然後退出
                    if(result != "failed"){
                        this.showAlert(result);
                        this.showRevise(false);
                    }else{
                        // 失敗看原因
                        reason = res.data.reason;
                        if(reason == "Duplicated"){
                            this.showAlert("序號重複", "bg-red-500");
                        }
                    }
                })
                .catch((err)=>{
                    status = err.response.status;
                    if(status == 403) alert("你!沒有!權限!");
                    else if(status == 413) alert("檔案大小過大");
                    else alert(status);
                });
            },
            // 取得及時更新盤點狀態
            updateRealTimeStatus(data){
                let self = this;
                data.forEach((d)=>{
                    self.propertyList.forEach((p)=>{
                        if(d.id == p.id){
                            p.is_check = d.is_check;
                            p.action_user = d.action_user;
                            return
                        }
                    });
                });
            },
            // 儲存當前盤點表為歷史紀錄
            saveCheckProp(){
                if(this.isWaitingHide == false)
                    return;
                if(this.checkNumber == 0){
                    this.showAlert("請填入比0大的數字", "bg-red-500");
                    return;
                }

                this.showWaiting(true);
                let self = this;
                axios({
                    method: "get",
                    url: this.saveCheckPropUrl,
                    params: {'number': this.checkNumber, 'tips': this.checkTips},
                })
                .then((res)=>{
                    self.showCheckNumberModel(false);
                    self.showAlert("Success save CheckList");
                    self.showWaiting(false);
                })
                .catch((err)=>{
                    self.showAlert("Something went wrong", "bg-red-500");
                    self.showWaiting(false);
                })
            }
        },
        mounted() {
            // 取得產品及用戶資訊
            this.getProperty();
            this.getUserInfo();
            this.getUnitBrandPosition();

            this.currentQRcode = new QRCode("qrcode", {
                text: "QRcode.com",
                width: 128,
                height: 128,
                colorDark : "#000000",
                colorLight : "#ffffff",
                correctLevel : QRCode.CorrectLevel.H
            });
            
            try{
                let constraints = { video: true }
                // Camera Initial
                var self = this;
                navigator.mediaDevices.getUserMedia(constraints)
                .then(function(stream) {
                    self.scanner = new Instascan.Scanner({ video: document.getElementById('preview'), scanPeriod: 1, mirror: true});
                    // 設定掃描 Listener
                    self.scanner.addListener('scan', function (content, image) {
                        self.content = content;
                        window.navigator.vibrate(200);
                        self.decodeQRcode();
                    });

                    // 獲取相機資源
                    Instascan.Camera.getCameras().then(function (cameras) {
                        self.cameras = cameras;
                    })
                    .catch(function (e) {
                        console.error(e);
                    });
                })
                .catch(function(err) {
                    /* handle the error */
                });
            }
            catch{

            }
            
            // 首先讓我們確定瀏覽器支援 Notification
            if (!("Notification" in window)) {
                alert("這個瀏覽器不支援 Notification");
            }
            var notifyConfig = {
                body: '\\ ^o^ /', // 設定內容
                icon: '/images/favicon.ico', // 設定 icon
                tag: 'newArrival' // 設定標籤
            };
            if (Notification.permission === 'default' || Notification.permission === 'undefined') {   
                Notification.requestPermission(function(permission) {
                    if (permission === 'granted') {
                        // 使用者同意授權
                        var notification = new Notification('Hi there!', notifyConfig); // 建立通知
                    }
                });
            }
            if (Notification.permission === 'granted') {
                // 使用者同意授權
                var notification = new Notification('Hi there!', notifyConfig); // 建立通知
            }
        },
        created() {
            window.onbeforeunload = function(e){
            　　var e = window.event || e;
            　　e.returnValue=("有未送出資料");
            }
        },
    }).mount("#stockTaking")
</script>
{% endblock %}